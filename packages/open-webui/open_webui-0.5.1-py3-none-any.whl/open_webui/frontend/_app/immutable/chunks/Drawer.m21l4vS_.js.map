{"version":3,"file":"Drawer.m21l4vS_.js","sources":["../../../../../../src/lib/components/common/Drawer.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { onDestroy, onMount, createEventDispatcher } from 'svelte';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { fade, fly, slide } from 'svelte/transition';\n\n\tconst dispatch = createEventDispatcher();\n\n\texport let show = false;\n\texport let className = '';\n\n\tlet modalElement = null;\n\tlet mounted = false;\n\n\tconst handleKeyDown = (event: KeyboardEvent) => {\n\t\tif (event.key === 'Escape' && isTopModal()) {\n\t\t\tconsole.log('Escape');\n\t\t\tshow = false;\n\t\t}\n\t};\n\n\tconst isTopModal = () => {\n\t\tconst modals = document.getElementsByClassName('modal');\n\t\treturn modals.length && modals[modals.length - 1] === modalElement;\n\t};\n\n\tonMount(() => {\n\t\tmounted = true;\n\t});\n\n\t$: if (show && modalElement) {\n\t\tdocument.body.appendChild(modalElement);\n\t\twindow.addEventListener('keydown', handleKeyDown);\n\t\tdocument.body.style.overflow = 'hidden';\n\t} else if (modalElement) {\n\t\tdispatch('close');\n\t\twindow.removeEventListener('keydown', handleKeyDown);\n\n\t\tif (document.body.contains(modalElement)) {\n\t\t\tdocument.body.removeChild(modalElement);\n\t\t\tdocument.body.style.overflow = 'unset';\n\t\t}\n\t}\n\n\tonDestroy(() => {\n\t\tshow = false;\n\t\tif (modalElement) {\n\t\t\tif (document.body.contains(modalElement)) {\n\t\t\t\tdocument.body.removeChild(modalElement);\n\t\t\t\tdocument.body.style.overflow = 'unset';\n\t\t\t}\n\t\t}\n\t});\n</script>\n\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n\n<div\n\tbind:this={modalElement}\n\tclass=\"modal fixed right-0 left-0 bottom-0 bg-black/60 w-full h-screen max-h-[100dvh] flex justify-center z-[9999] overflow-hidden overscroll-contain\"\n\tin:fly={{ y: 100, duration: 100 }}\n\ton:mousedown={() => {\n\t\tshow = false;\n\t}}\n>\n\t<div\n\t\tclass=\" mt-auto max-w-full w-full bg-gray-50 dark:bg-gray-900 dark:text-gray-100 {className} max-h-[100dvh] overflow-y-auto scrollbar-hidden\"\n\t\ton:mousedown={(e) => {\n\t\t\te.stopPropagation();\n\t\t}}\n\t>\n\t\t<slot />\n\t</div>\n</div>\n\n<style>\n\t.modal-content {\n\t\tanimation: scaleUp 0.1s ease-out forwards;\n\t}\n\n\t@keyframes scaleUp {\n\t\tfrom {\n\t\t\ttransform: scale(0.985);\n\t\t\topacity: 0;\n\t\t}\n\t\tto {\n\t\t\ttransform: scale(1);\n\t\t\topacity: 1;\n\t\t}\n\t}\n</style>\n"],"names":["ctx","insert_hydration","target","div1","anchor","append_hydration","div0","div1_intro","create_in_transition","fly","e","dispatch","createEventDispatcher","show","$$props","className","modalElement","handleKeyDown","event","isTopModal","modals","onMount","onDestroy","$$value","$$invalidate"],"mappings":"omBAkEoFA,EAAS,CAAA,EAAA,gEAAA,wKAT7FC,EAgBKC,EAAAC,EAAAC,CAAA,EARJC,EAOKF,EAAAG,CAAA,6PAN8EN,EAAS,CAAA,EAAA,kHANlFO,EAAAC,EAAAL,EAAAM,EAAA,CAAA,EAAG,IAAK,SAAU,GAAG,CAAA,8FAOfC,GAAC,CACfA,EAAE,gBAAe,yDA/DbC,EAAWC,QAEN,KAAAC,EAAO,EAAA,EAAAC,GACP,UAAAC,EAAY,EAAA,EAAAD,EAEnBE,EAAe,WAGbC,EAAiBC,GAAA,CAClBA,EAAM,MAAQ,UAAYC,EAAA,IAC7B,QAAQ,IAAI,QAAQ,MACpBN,EAAO,EAAA,IAIHM,EAAA,IAAA,OACCC,EAAS,SAAS,uBAAuB,OAAO,EAC/C,OAAAA,EAAO,QAAUA,EAAOA,EAAO,OAAS,CAAC,IAAMJ,GAGvDK,EAAA,IAAA,IAkBAC,EAAA,IAAA,KACCT,EAAO,EAAA,EACHG,GACC,SAAS,KAAK,SAASA,CAAY,IACtC,SAAS,KAAK,YAAYA,CAAY,EACtC,SAAS,KAAK,MAAM,SAAW,oDAUvBA,EAAYO,wBAItBC,EAAA,EAAAX,EAAO,EAAK,qJAjCNA,GAAQG,GACd,SAAS,KAAK,YAAYA,CAAY,EACtC,OAAO,iBAAiB,UAAWC,CAAa,EAChD,SAAS,KAAK,MAAM,SAAW,UACrBD,IACVL,EAAS,OAAO,EAChB,OAAO,oBAAoB,UAAWM,CAAa,EAE/C,SAAS,KAAK,SAASD,CAAY,IACtC,SAAS,KAAK,YAAYA,CAAY,EACtC,SAAS,KAAK,MAAM,SAAW"}