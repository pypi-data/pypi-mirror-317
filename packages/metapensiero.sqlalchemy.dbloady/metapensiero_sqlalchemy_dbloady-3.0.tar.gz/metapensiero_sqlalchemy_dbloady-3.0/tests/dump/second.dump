PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE persons (
	id INTEGER NOT NULL, 
	firstname VARCHAR(64), 
	lastname VARCHAR(64), 
	PRIMARY KEY (id)
);
INSERT INTO persons VALUES(1,'John','Doe');
INSERT INTO persons VALUES(2,'Bar','Foo');
CREATE TABLE exams (
	id INTEGER NOT NULL, 
	description VARCHAR(64), 
	PRIMARY KEY (id)
);
INSERT INTO exams VALUES(1,'Drive license');
CREATE TABLE results (
	id INTEGER NOT NULL, 
	idperson INTEGER NOT NULL, 
	idexam INTEGER NOT NULL, 
	vote INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(idperson) REFERENCES persons (id) ON DELETE CASCADE, 
	FOREIGN KEY(idexam) REFERENCES exams (id) ON DELETE CASCADE
);
INSERT INTO results VALUES(1,1,1,10);
INSERT INTO results VALUES(2,2,1,5);
COMMIT;
