"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([[1186],{1186:function(n,e,i){i.r(e);var t,a,o,s,l=i(94881),r=i(1781),d=i(95803),c=i(6238),u=i(36683),h=i(89231),p=i(29864),v=i(83647),g=i(8364),_=(i(77052),i(60060),i(848),i(43859),i(29805),i(98597)),m=i(196),f=i(66580),k=i(33167),b=(i(66494),i(96396),i(9484),i(69154),i(59373),i(31447)),x=i(43799);(0,g.A)([(0,m.EM)("ha-input_select-form")],(function(n,e){var i,g=function(e){function i(){var e;(0,h.A)(this,i);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=(0,p.A)(this,i,[].concat(a)),n(e),e}return(0,v.A)(i,e),(0,u.A)(i)}(e);return{F:g,d:[{kind:"field",decorators:[(0,m.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,m.MZ)({type:Boolean})],key:"new",value:function(){return!1}},{kind:"field",key:"_item",value:void 0},{kind:"field",decorators:[(0,m.wk)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,m.wk)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,m.wk)()],key:"_options",value:function(){return[]}},{kind:"field",decorators:[(0,m.P)("#option_input",!0)],key:"_optionInput",value:void 0},{kind:"method",key:"_optionMoved",value:function(n){n.stopPropagation();var e=n.detail,i=e.oldIndex,t=e.newIndex,a=this._options.concat(),o=a.splice(i,1)[0];a.splice(t,0,o),(0,k.r)(this,"value-changed",{value:Object.assign(Object.assign({},this._item),{},{options:a})})}},{kind:"set",key:"item",value:function(n){this._item=n,n?(this._name=n.name||"",this._icon=n.icon||"",this._options=n.options||[]):(this._name="",this._icon="",this._options=[])}},{kind:"method",key:"focus",value:function(){var n=this;this.updateComplete.then((function(){var e;return null===(e=n.shadowRoot)||void 0===e||null===(e=e.querySelector("[dialogInitialFocus]"))||void 0===e?void 0:e.focus()}))}},{kind:"method",key:"render",value:function(){var n=this;return this.hass?(0,_.qy)(t||(t=(0,c.A)(['\n      <div class="form">\n        <ha-textfield\n          dialogInitialFocus\n          autoValidate\n          required\n          .validationMessage=',"\n          .value=","\n          .label=","\n          .configValue=","\n          @input=","\n        ></ha-textfield>\n        <ha-icon-picker\n          .hass=","\n          .value=","\n          .configValue=","\n          @value-changed=","\n          .label=",'\n        ></ha-icon-picker>\n        <div class="header">\n          ',":\n        </div>\n        <ha-sortable @item-moved=",' handle-selector=".handle">\n          <mwc-list class="options">\n            ','\n          </mwc-list>\n        </ha-sortable>\n        <div class="layout horizontal center">\n          <ha-textfield\n            class="flex-auto"\n            id="option_input"\n            .label=',"\n            @keydown=","\n          ></ha-textfield>\n          <ha-button @click=","\n            >","</ha-button\n          >\n        </div>\n      </div>\n    "])),this.hass.localize("ui.dialogs.helper_settings.required_error_msg"),this._name,this.hass.localize("ui.dialogs.helper_settings.generic.name"),"name",this._valueChanged,this.hass,this._icon,"icon",this._valueChanged,this.hass.localize("ui.dialogs.helper_settings.generic.icon"),this.hass.localize("ui.dialogs.helper_settings.input_select.options"),this._optionMoved,this._options.length?(0,f.u)(this._options,(function(n){return n}),(function(e,i){return(0,_.qy)(a||(a=(0,c.A)(['\n                    <ha-list-item class="option" hasMeta>\n                      <div class="optioncontent">\n                        <div class="handle">\n                          <ha-svg-icon .path=',"></ha-svg-icon>\n                        </div>\n                        ",'\n                      </div>\n                      <ha-icon-button\n                        slot="meta"\n                        .index=',"\n                        .label=","\n                        @click=","\n                        .path=","\n                      ></ha-icon-button>\n                    </ha-list-item>\n                  "])),"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z",e,i,n.hass.localize("ui.dialogs.helper_settings.input_select.remove_option"),n._removeOption,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z")})):(0,_.qy)(o||(o=(0,c.A)(["\n                  <ha-list-item noninteractive>\n                    ","\n                  </ha-list-item>\n                "])),this.hass.localize("ui.dialogs.helper_settings.input_select.no_options")),this.hass.localize("ui.dialogs.helper_settings.input_select.add_option"),this._handleKeyAdd,this._addOption,this.hass.localize("ui.dialogs.helper_settings.input_select.add")):_.s6}},{kind:"method",key:"_handleKeyAdd",value:function(n){n.stopPropagation(),"Enter"===n.key&&this._addOption()}},{kind:"method",key:"_addOption",value:function(){var n=this._optionInput;null!=n&&n.value&&((0,k.r)(this,"value-changed",{value:Object.assign(Object.assign({},this._item),{},{options:[].concat((0,d.A)(this._options),[n.value])})}),n.value="")}},{kind:"method",key:"_removeOption",value:(i=(0,r.A)((0,l.A)().mark((function n(e){var i,t;return(0,l.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.target.index,n.next=3,(0,b.dk)(this,{title:this.hass.localize("ui.dialogs.helper_settings.input_select.confirm_delete.delete"),text:this.hass.localize("ui.dialogs.helper_settings.input_select.confirm_delete.prompt"),destructive:!0});case 3:if(n.sent){n.next=5;break}return n.abrupt("return");case 5:(t=(0,d.A)(this._options)).splice(i,1),(0,k.r)(this,"value-changed",{value:Object.assign(Object.assign({},this._item),{},{options:t})});case 8:case"end":return n.stop()}}),n,this)}))),function(n){return i.apply(this,arguments)})},{kind:"method",key:"_valueChanged",value:function(n){var e;if(this.new||this._item){n.stopPropagation();var i=n.target.configValue,t=(null===(e=n.detail)||void 0===e?void 0:e.value)||n.target.value;if(this["_".concat(i)]!==t){var a=Object.assign({},this._item);t?a[i]=t:delete a[i],(0,k.r)(this,"value-changed",{value:a})}}}},{kind:"get",static:!0,key:"styles",value:function(){return[x.RF,(0,_.AH)(s||(s=(0,c.A)(["\n        .form {\n          color: var(--primary-text-color);\n        }\n        .option {\n          border: 1px solid var(--divider-color);\n          border-radius: 4px;\n          margin-top: 4px;\n          --mdc-icon-button-size: 24px;\n          --mdc-ripple-color: transparent;\n          --mdc-list-side-padding: 16px;\n          cursor: default;\n          background-color: var(--card-background-color);\n        }\n        mwc-button {\n          margin-left: 8px;\n          margin-inline-start: 8px;\n          margin-inline-end: initial;\n        }\n        ha-textfield {\n          display: block;\n          margin-bottom: 8px;\n        }\n        #option_input {\n          margin-top: 8px;\n        }\n        .header {\n          margin-top: 8px;\n          margin-bottom: 8px;\n        }\n        .handle {\n          cursor: move; /* fallback if grab cursor is unsupported */\n          cursor: grab;\n          padding-right: 12px;\n          padding-inline-end: 12px;\n          padding-inline-start: initial;\n        }\n        .handle ha-svg-icon {\n          pointer-events: none;\n          height: 24px;\n        }\n        .optioncontent {\n          display: flex;\n          align-items: center;\n        }\n      "])))]}}]}}),_.WF)}}]);