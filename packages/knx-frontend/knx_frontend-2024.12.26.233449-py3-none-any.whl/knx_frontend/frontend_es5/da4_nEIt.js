"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([[3920,7481],{32872:function(n,e,t){t.d(e,{x:function(){return r}});t(53501),t(34517);var r=function(n,e){return n&&n.config.components.includes(e)}},58636:function(n,e,t){t.d(e,{PE:function(){return o}});t(53501),t(75658);var r=t(67319),a=t(99096),i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o=function(n){return n.first_weekday===a.zt.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(n.language).weekInfo.firstDay%7:(0,r.S)(n.language)%7:i.includes(n.first_weekday)?i.indexOf(n.first_weekday):1}},3139:function(n,e,t){t.d(e,{K:function(){return c}});var r=t(45081),a=(t(43859),t(91499)),i=t(91791),o=t(17781),s=t(58636);var d={second:45,minute:45,hour:22,day:5,week:4,month:11},l=(0,r.A)((function(n){return new Intl.RelativeTimeFormat(n.language,{numeric:"auto"})})),c=function(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=Object.assign(Object.assign({},d),r||{}),c=(+n-+e)/1e3;if(Math.abs(c)<l.second)return{value:Math.round(c),unit:"second"};var u=c/60;if(Math.abs(u)<l.minute)return{value:Math.round(u),unit:"minute"};var h=c/3600;if(Math.abs(h)<l.hour)return{value:Math.round(h),unit:"hour"};var p=new Date(n),g=new Date(e);p.setHours(0,0,0,0),g.setHours(0,0,0,0);var v=(0,a.c)(p,g);if(0===v)return{value:Math.round(h),unit:"hour"};if(Math.abs(v)<l.day)return{value:v,unit:"day"};var f=(0,s.PE)(t),m=(0,i.k)(p,{weekStartsOn:f}),k=(0,i.k)(g,{weekStartsOn:f}),y=(0,o.I)(m,k);if(0===y)return{value:v,unit:"day"};if(Math.abs(y)<l.week)return{value:y,unit:"week"};var b=p.getFullYear()-g.getFullYear(),x=12*b+p.getMonth()-g.getMonth();return 0===x?{value:y,unit:"week"}:Math.abs(x)<l.month||0===b?{value:x,unit:"month"}:{value:Math.round(b),unit:"year"}}(n,t,e);return r?l(e).format(c.value,c.unit):Intl.NumberFormat(e.language,{style:"unit",unit:c.unit,unitDisplay:"long"}).format(Math.abs(c.value))}},80920:function(n,e,t){var r,a,i=t(6238),o=t(36683),s=t(89231),d=t(29864),l=t(83647),c=t(8364),u=t(27526),h=(t(77052),t(650),t(68113),t(58177),t(42416),t(66274),t(84531),t(34290),t(27350),t(98597)),p=t(196),g=t(10),v=t(22994);(0,c.A)([(0,p.EM)("ha-button-menu")],(function(n,e){var t=function(e){function t(){var e;(0,s.A)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=(0,d.A)(this,t,[].concat(a)),n(e),e}return(0,l.A)(t,e),(0,o.A)(t)}(e);return{F:t,d:[{kind:"field",key:v.Xr,value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"corner",value:function(){return"BOTTOM_START"}},{kind:"field",decorators:[(0,p.MZ)()],key:"menuCorner",value:function(){return"START"}},{kind:"field",decorators:[(0,p.MZ)({type:Number})],key:"x",value:function(){return null}},{kind:"field",decorators:[(0,p.MZ)({type:Number})],key:"y",value:function(){return null}},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"multi",value:function(){return!1}},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"activatable",value:function(){return!1}},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"fixed",value:function(){return!1}},{kind:"field",decorators:[(0,p.MZ)({type:Boolean,attribute:"no-anchor"})],key:"noAnchor",value:function(){return!1}},{kind:"field",decorators:[(0,p.P)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var n;return null===(n=this._menu)||void 0===n?void 0:n.items}},{kind:"get",key:"selected",value:function(){var n;return null===(n=this._menu)||void 0===n?void 0:n.selected}},{kind:"method",key:"focus",value:function(){var n,e;null!==(n=this._menu)&&void 0!==n&&n.open?this._menu.focusItemAtIndex(0):null===(e=this._triggerButton)||void 0===e||e.focus()}},{kind:"method",key:"render",value:function(){return(0,h.qy)(r||(r=(0,i.A)(["\n      <div @click=",'>\n        <slot name="trigger" @slotchange=',"></slot>\n      </div>\n      <mwc-menu\n        .corner=","\n        .menuCorner=","\n        .fixed=","\n        .multi=","\n        .activatable=","\n        .y=","\n        .x=","\n      >\n        <slot></slot>\n      </mwc-menu>\n    "])),this._handleClick,this._setTriggerAria,this.corner,this.menuCorner,this.fixed,this.multi,this.activatable,this.y,this.x)}},{kind:"method",key:"firstUpdated",value:function(n){var e=this;(0,u.A)(t,"firstUpdated",this,3)([n]),"rtl"===g.G.document.dir&&this.updateComplete.then((function(){e.querySelectorAll("mwc-list-item").forEach((function(n){var e=document.createElement("style");e.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",n.shadowRoot.appendChild(e)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.AH)(a||(a=(0,i.A)(["\n      :host {\n        display: inline-block;\n        position: relative;\n      }\n      ::slotted([disabled]) {\n        color: var(--disabled-text-color);\n      }\n    "])))}}]}}),h.WF)},94392:function(n,e,t){var r,a,i,o=t(6238),s=t(36683),d=t(89231),l=t(29864),c=t(83647),u=t(8364),h=(t(77052),t(98597)),p=t(196);(0,u.A)([(0,p.EM)("ha-card")],(function(n,e){var t=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=(0,l.A)(this,t,[].concat(a)),n(e),e}return(0,c.A)(t,e),(0,s.A)(t)}(e);return{F:t,d:[{kind:"field",decorators:[(0,p.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,p.MZ)({type:Boolean,reflect:!0})],key:"raised",value:function(){return!1}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.AH)(r||(r=(0,o.A)(["\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--card-background-color, white)\n        );\n        -webkit-backdrop-filter: var(--ha-card-backdrop-filter, none);\n        backdrop-filter: var(--ha-card-backdrop-filter, none);\n        box-shadow: var(--ha-card-box-shadow, none);\n        box-sizing: border-box;\n        border-radius: var(--ha-card-border-radius, 12px);\n        border-width: var(--ha-card-border-width, 1px);\n        border-style: solid;\n        border-color: var(\n          --ha-card-border-color,\n          var(--divider-color, #e0e0e0)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      :host([raised]) {\n        border: none;\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n          0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n          0px 1px 3px 0px rgba(0, 0, 0, 0.12)\n        );\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, var(--primary-text-color));\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 48px;\n        padding: 12px 16px 16px;\n        display: block;\n        margin-block-start: 0px;\n        margin-block-end: 0px;\n        font-weight: normal;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid var(--divider-color, #e8e8e8);\n        padding: 5px 16px;\n      }\n    "])))}},{kind:"method",key:"render",value:function(){return(0,h.qy)(a||(a=(0,o.A)(["\n      ","\n      <slot></slot>\n    "])),this.header?(0,h.qy)(i||(i=(0,o.A)(['<h1 class="card-header">',"</h1>"])),this.header):h.s6)}}]}}),h.WF)},33920:function(n,e,t){t.r(e),t.d(e,{HaIconOverflowMenu:function(){return _}});var r,a,i,o,s,d,l,c,u,h=t(6238),p=t(36683),g=t(89231),v=t(29864),f=t(83647),m=t(8364),k=(t(77052),t(36724),t(98168),t(87777),t(98597)),y=t(196),b=t(69760),x=t(43799),_=(t(80920),t(96396),t(9484),t(29222),(0,m.A)([(0,y.EM)("ha-icon-overflow-menu")],(function(n,e){var t=function(e){function t(){var e;(0,g.A)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=(0,v.A)(this,t,[].concat(a)),n(e),e}return(0,f.A)(t,e),(0,p.A)(t)}(e);return{F:t,d:[{kind:"field",decorators:[(0,y.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,y.MZ)({type:Array})],key:"items",value:function(){return[]}},{kind:"field",decorators:[(0,y.MZ)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,k.qy)(r||(r=(0,h.A)(["\n      ","\n    "])),this.narrow?(0,k.qy)(a||(a=(0,h.A)([" \x3c!-- Collapsed representation for small screens --\x3e\n            <ha-button-menu\n              @click=","\n              @closed=",'\n              class="ha-icon-overflow-menu-overflow"\n              absolute\n            >\n              <ha-icon-button\n                .label=',"\n                .path=",'\n                slot="trigger"\n              ></ha-icon-button>\n\n              ',"\n            </ha-button-menu>"])),this._handleIconOverflowMenuOpened,this._handleIconOverflowMenuClosed,this.hass.localize("ui.common.overflow_menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.items.map((function(n){return n.divider?(0,k.qy)(i||(i=(0,h.A)(['<li divider role="separator"></li>']))):(0,k.qy)(o||(o=(0,h.A)(['<ha-list-item\n                      graphic="icon"\n                      ?disabled=',"\n                      @click=","\n                      class=",'\n                    >\n                      <div slot="graphic">\n                        <ha-svg-icon\n                          class=',"\n                          .path=","\n                        ></ha-svg-icon>\n                      </div>\n                      ","\n                    </ha-list-item> "])),n.disabled,n.action,(0,b.H)({warning:Boolean(n.warning)}),(0,b.H)({warning:Boolean(n.warning)}),n.path,n.label)}))):(0,k.qy)(s||(s=(0,h.A)(["\n            \x3c!-- Icon representation for big screens --\x3e\n            ","\n          "])),this.items.map((function(n){return n.narrowOnly?"":n.divider?(0,k.qy)(d||(d=(0,h.A)(['<div role="separator"></div>']))):(0,k.qy)(l||(l=(0,h.A)(["<div>\n                      ","\n                      <ha-icon-button\n                        @click=","\n                        .label=","\n                        .path=","\n                        ?disabled=","\n                      ></ha-icon-button>\n                    </div> "])),n.tooltip?(0,k.qy)(c||(c=(0,h.A)(['<simple-tooltip\n                            animation-delay="0"\n                            position="left"\n                          >\n                            ',"\n                          </simple-tooltip>"])),n.tooltip):"",n.action,n.label,n.path,n.disabled)}))))}},{kind:"method",key:"_handleIconOverflowMenuOpened",value:function(n){n.stopPropagation();var e=this.closest(".mdc-data-table__row");e&&(e.style.zIndex="1")}},{kind:"method",key:"_handleIconOverflowMenuClosed",value:function(){var n=this.closest(".mdc-data-table__row");n&&(n.style.zIndex="")}},{kind:"get",static:!0,key:"styles",value:function(){return[x.RF,(0,k.AH)(u||(u=(0,h.A)(['\n        :host {\n          display: flex;\n          justify-content: flex-end;\n        }\n        li[role="separator"] {\n          border-bottom-color: var(--divider-color);\n        }\n        div[role="separator"] {\n          border-right: 1px solid var(--divider-color);\n          width: 1px;\n        }\n        ha-list-item[disabled] ha-svg-icon {\n          color: var(--disabled-text-color);\n        }\n      '])))]}}]}}),k.WF))},9484:function(n,e,t){var r,a,i,o=t(6238),s=t(36683),d=t(89231),l=t(29864),c=t(83647),u=t(8364),h=t(27526),p=(t(77052),t(46175)),g=t(45592),v=t(98597),f=t(196);(0,u.A)([(0,f.EM)("ha-list-item")],(function(n,e){var t=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=(0,l.A)(this,t,[].concat(a)),n(e),e}return(0,c.A)(t,e),(0,s.A)(t)}(e);return{F:t,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,h.A)(t,"renderRipple",this,3)([])}},{kind:"get",static:!0,key:"styles",value:function(){return[g.R,(0,v.AH)(r||(r=(0,o.A)(['\n        :host {\n          padding-left: var(\n            --mdc-list-side-padding-left,\n            var(--mdc-list-side-padding, 20px)\n          );\n          padding-inline-start: var(\n            --mdc-list-side-padding-left,\n            var(--mdc-list-side-padding, 20px)\n          );\n          padding-right: var(\n            --mdc-list-side-padding-right,\n            var(--mdc-list-side-padding, 20px)\n          );\n          padding-inline-end: var(\n            --mdc-list-side-padding-right,\n            var(--mdc-list-side-padding, 20px)\n          );\n        }\n        :host([graphic="avatar"]:not([twoLine])),\n        :host([graphic="icon"]:not([twoLine])) {\n          height: 48px;\n        }\n        span.material-icons:first-of-type {\n          margin-inline-start: 0px !important;\n          margin-inline-end: var(\n            --mdc-list-item-graphic-margin,\n            16px\n          ) !important;\n          direction: var(--direction) !important;\n        }\n        span.material-icons:last-of-type {\n          margin-inline-start: auto !important;\n          margin-inline-end: 0px !important;\n          direction: var(--direction) !important;\n        }\n        .mdc-deprecated-list-item__meta {\n          display: var(--mdc-list-item-meta-display);\n          align-items: center;\n          flex-shrink: 0;\n        }\n        :host([graphic="icon"]:not([twoline]))\n          .mdc-deprecated-list-item__graphic {\n          margin-inline-end: var(\n            --mdc-list-item-graphic-margin,\n            20px\n          ) !important;\n        }\n        :host([multiline-secondary]) {\n          height: auto;\n        }\n        :host([multiline-secondary]) .mdc-deprecated-list-item__text {\n          padding: 8px 0;\n        }\n        :host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text {\n          text-overflow: initial;\n          white-space: normal;\n          overflow: auto;\n          display: inline-block;\n          margin-top: 10px;\n        }\n        :host([multiline-secondary]) .mdc-deprecated-list-item__primary-text {\n          margin-top: 10px;\n        }\n        :host([multiline-secondary])\n          .mdc-deprecated-list-item__secondary-text::before {\n          display: none;\n        }\n        :host([multiline-secondary])\n          .mdc-deprecated-list-item__primary-text::before {\n          display: none;\n        }\n        :host([disabled]) {\n          color: var(--disabled-text-color);\n        }\n        :host([noninteractive]) {\n          pointer-events: unset;\n        }\n      ']))),"rtl"===document.dir?(0,v.AH)(a||(a=(0,o.A)(["\n            span.material-icons:first-of-type,\n            span.material-icons:last-of-type {\n              direction: rtl !important;\n              --direction: rtl;\n            }\n          "]))):(0,v.AH)(i||(i=(0,o.A)([""])))]}}]}}),p.J)},99096:function(n,e,t){t.d(e,{ow:function(){return o},zt:function(){return s},jG:function(){return r},Hg:function(){return a},Wj:function(){return i}});t(94881),t(1781),t(43859);var r=function(n){return n.language="language",n.system="system",n.comma_decimal="comma_decimal",n.decimal_comma="decimal_comma",n.space_comma="space_comma",n.none="none",n}({}),a=function(n){return n.language="language",n.system="system",n.am_pm="12",n.twenty_four="24",n}({}),i=function(n){return n.local="local",n.server="server",n}({}),o=function(n){return n.language="language",n.system="system",n.DMY="DMY",n.MDY="MDY",n.YMD="YMD",n}({}),s=function(n){return n.language="language",n.monday="monday",n.tuesday="tuesday",n.wednesday="wednesday",n.thursday="thursday",n.friday="friday",n.saturday="saturday",n.sunday="sunday",n}({})},92518:function(n,e,t){t.d(e,{A:function(){return a}});var r=t(67234);t(36724),t(1158),t(68113),t(58971),t(66274),t(84531),t(98168),t(34290);function a(n){if(!n||"object"!=(0,r.A)(n))return n;if("[object Date]"==Object.prototype.toString.call(n))return new Date(n.getTime());if(Array.isArray(n))return n.map(a);var e={};return Object.keys(n).forEach((function(t){e[t]=a(n[t])})),e}},23059:function(n,e,t){t.d(e,{V:function(){return i},e:function(){return a}});t(77052),t(19954),t(68113),t(58971),t(42566),t(24104),t(66274),t(91078);var r=t(47420),a={payload:function(n){return null==n.payload?"":Array.isArray(n.payload)?n.payload.reduce((function(n,e){return n+e.toString(16).padStart(2,"0")}),"0x"):n.payload.toString()},valueWithUnit:function(n){return null==n.value?"":"number"==typeof n.value||"boolean"==typeof n.value||"string"==typeof n.value?n.value.toString()+(n.unit?" "+n.unit:""):(0,r.Bh)(n.value)},timeWithMilliseconds:function(n){return new Date(n.timestamp).toLocaleTimeString(["en-US"],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})},dateWithMilliseconds:function(n){return new Date(n.timestamp).toLocaleTimeString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})},dptNumber:function(n){return null==n.dpt_main?"":null==n.dpt_sub?n.dpt_main.toString():n.dpt_main.toString()+"."+n.dpt_sub.toString().padStart(3,"0")},dptNameNumber:function(n){var e=a.dptNumber(n);return null==n.dpt_name?"DPT ".concat(e):e?"DPT ".concat(e," ").concat(n.dpt_name):n.dpt_name}},i=function(n){return null==n?"":n.main+(n.sub?"."+n.sub.toString().padStart(3,"0"):"")}},15087:function(n,e,t){t.r(e),t.d(e,{KNXProjectView:function(){return nn}});var r,a,i,o,s,d,l,c,u,h,p,g,v,f,m,k,y,b=t(22481),x=t(6238),_=t(23141),A=t(94881),w=t(1781),M=t(36683),j=t(89231),S=t(29864),q=t(83647),O=t(8364),R=t(27526),z=(t(77052),t(53501),t(71936),t(19954),t(43859),t(21968),t(68113),t(84368),t(58971),t(34517),t(42566),t(24104),t(66274),t(91078),t(98597)),H=t(196),T=t(45081),Z=(t(61424),t(7341),t(94392),t(96396),t(33920),t(65206),t(3139)),D=t(13314),C=(t(36724),t(848),t(1158),t(84531),t(98168),t(34290),t(69760)),I=t(33167),E=t(61328),F=new E.Q("knx-project-tree-view"),B=((0,O.A)([(0,H.EM)("knx-project-tree-view")],(function(n,e){var t=function(e){function t(){var e;(0,j.A)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=(0,S.A)(this,t,[].concat(a)),n(e),e}return(0,q.A)(t,e),(0,M.A)(t)}(e);return{F:t,d:[{kind:"field",decorators:[(0,H.MZ)({attribute:!1})],key:"data",value:void 0},{kind:"field",decorators:[(0,H.MZ)({attribute:!1})],key:"multiselect",value:function(){return!1}},{kind:"field",decorators:[(0,H.wk)()],key:"_selectableRanges",value:function(){return{}}},{kind:"method",key:"connectedCallback",value:function(){var n=this;(0,R.A)(t,"connectedCallback",this,3)([]);var e=function(t){Object.entries(t).forEach((function(t){var r=(0,b.A)(t,2),a=r[0],i=r[1];i.group_addresses.length>0&&(n._selectableRanges[a]={selected:!1,groupAddresses:i.group_addresses}),e(i.group_ranges)}))};e(this.data.group_ranges),F.debug("ranges",this._selectableRanges)}},{kind:"method",key:"render",value:function(){return(0,z.qy)(r||(r=(0,x.A)(['<div class="ha-tree-view">',"</div>"])),this._recurseData(this.data.group_ranges))}},{kind:"method",key:"_recurseData",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Object.entries(n).map((function(n){var r=(0,b.A)(n,2),s=r[0],d=r[1],l=Object.keys(d.group_ranges).length>0;if(!(l||d.group_addresses.length>0))return z.s6;var c=s in e._selectableRanges,u=!!c&&e._selectableRanges[s].selected,h={"range-item":!0,"root-range":0===t,"sub-range":t>0,selectable:c,"selected-range":u,"non-selected-range":c&&!u},p=(0,z.qy)(a||(a=(0,x.A)(["<div\n        class=","\n        toggle-range=","\n        @click=",'\n      >\n        <span class="range-key">','</span>\n        <span class="range-text">',"</span>\n      </div>"])),(0,C.H)(h),c?s:z.s6,c?e.multiselect?e._selectionChangedMulti:e._selectionChangedSingle:z.s6,s,d.name);if(l){var g={"root-group":0===t,"sub-group":0!==t};return(0,z.qy)(i||(i=(0,x.A)(["<div class=",">\n          "," ","\n        </div>"])),(0,C.H)(g),p,e._recurseData(d.group_ranges,t+1))}return(0,z.qy)(o||(o=(0,x.A)(["",""])),p)}));return(0,z.qy)(s||(s=(0,x.A)(["",""])),r)}},{kind:"method",key:"_selectionChangedMulti",value:function(n){var e=n.target.getAttribute("toggle-range");this._selectableRanges[e].selected=!this._selectableRanges[e].selected,this._selectionUpdate(),this.requestUpdate()}},{kind:"method",key:"_selectionChangedSingle",value:function(n){var e=n.target.getAttribute("toggle-range"),t=this._selectableRanges[e].selected;Object.values(this._selectableRanges).forEach((function(n){n.selected=!1})),this._selectableRanges[e].selected=!t,this._selectionUpdate(),this.requestUpdate()}},{kind:"method",key:"_selectionUpdate",value:function(){var n=Object.values(this._selectableRanges).reduce((function(n,e){return e.selected?n.concat(e.groupAddresses):n}),[]);F.debug("selection changed",n),(0,I.r)(this,"knx-group-range-selection-changed",{groupAddresses:n})}},{kind:"get",static:!0,key:"styles",value:function(){return(0,z.AH)(d||(d=(0,x.A)(["\n      :host {\n        margin: 0;\n        height: 100%;\n        overflow-y: scroll;\n        overflow-x: hidden;\n        background-color: var(--card-background-color);\n      }\n\n      .ha-tree-view {\n        cursor: default;\n      }\n\n      .root-group {\n        margin-bottom: 8px;\n      }\n\n      .root-group > * {\n        padding-top: 5px;\n        padding-bottom: 5px;\n      }\n\n      .range-item {\n        display: block;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        font-size: 0.875rem;\n      }\n\n      .range-item > * {\n        vertical-align: middle;\n        pointer-events: none;\n      }\n\n      .range-key {\n        color: var(--text-primary-color);\n        font-size: 0.75rem;\n        font-weight: 700;\n        background-color: var(--label-badge-grey);\n        border-radius: 4px;\n        padding: 1px 4px;\n        margin-right: 2px;\n      }\n\n      .root-range {\n        padding-left: 8px;\n        font-weight: 500;\n        background-color: var(--secondary-background-color);\n\n        & .range-key {\n          color: var(--primary-text-color);\n          background-color: var(--card-background-color);\n        }\n      }\n\n      .sub-range {\n        padding-left: 13px;\n      }\n\n      .selectable {\n        cursor: pointer;\n      }\n\n      .selectable:hover {\n        background-color: rgba(var(--rgb-primary-text-color), 0.04);\n      }\n\n      .selected-range {\n        background-color: rgba(var(--rgb-primary-color), 0.12);\n\n        & .range-key {\n          background-color: var(--primary-color);\n        }\n      }\n\n      .selected-range:hover {\n        background-color: rgba(var(--rgb-primary-color), 0.07);\n      }\n\n      .non-selected-range {\n        background-color: var(--card-background-color);\n      }\n    "])))}}]}}),z.WF),t(67234)),W=(t(27934),t(75658),t(53156),t(43618),t(26777),t(47711),/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i),U=function(n){if("string"!=typeof n)throw new TypeError("Invalid argument expected string");var e=n.match(W);if(!e)throw new Error("Invalid argument not valid semver ('".concat(n,"' received)"));return e.shift(),e},N=function(n){return"*"===n||"x"===n||"X"===n},G=function(n){var e=parseInt(n,10);return isNaN(e)?n:e},P=function(n,e){if(N(n)||N(e))return 0;var t=function(n,e){return(0,B.A)(n)!==(0,B.A)(e)?[String(n),String(e)]:[n,e]}(G(n),G(e)),r=(0,b.A)(t,2),a=r[0],i=r[1];return a>i?1:a<i?-1:0},L=function(n,e){for(var t=0;t<Math.max(n.length,e.length);t++){var r=P(n[t]||"0",e[t]||"0");if(0!==r)return r}return 0},V=function(n,e,t){X(t);var r=function(n,e){var t=U(n),r=U(e),a=t.pop(),i=r.pop(),o=L(t,r);return 0!==o?o:a&&i?L(a.split("."),i.split(".")):a||i?a?-1:1:0}(n,e);return Y[t].includes(r)},Y={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},K=Object.keys(Y),X=function(n){if("string"!=typeof n)throw new TypeError("Invalid operator type, expected string but got ".concat((0,B.A)(n)));if(-1===K.indexOf(n))throw new Error("Invalid operator, expected one of ".concat(K.join("|")))},Q=t(39987),J=t(23059),$=new E.Q("knx-project-view"),nn=(0,O.A)([(0,H.EM)("knx-project-view")],(function(n,e){var t,r=function(e){function t(){var e;(0,j.A)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=(0,S.A)(this,t,[].concat(a)),n(e),e}return(0,q.A)(t,e),(0,M.A)(t)}(e);return{F:r,d:[{kind:"field",decorators:[(0,H.MZ)({type:Object})],key:"hass",value:void 0},{kind:"field",decorators:[(0,H.MZ)({attribute:!1})],key:"knx",value:void 0},{kind:"field",decorators:[(0,H.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,H.MZ)({type:Object})],key:"route",value:void 0},{kind:"field",decorators:[(0,H.MZ)({type:Array,reflect:!1})],key:"tabs",value:void 0},{kind:"field",decorators:[(0,H.MZ)({type:Boolean,reflect:!0,attribute:"range-selector-hidden"})],key:"rangeSelectorHidden",value:function(){return!0}},{kind:"field",decorators:[(0,H.wk)()],key:"_visibleGroupAddresses",value:function(){return[]}},{kind:"field",decorators:[(0,H.wk)()],key:"_groupRangeAvailable",value:function(){return!1}},{kind:"field",decorators:[(0,H.wk)()],key:"_subscribed",value:void 0},{kind:"field",decorators:[(0,H.wk)()],key:"_lastTelegrams",value:function(){return{}}},{kind:"method",key:"disconnectedCallback",value:function(){(0,R.A)(r,"disconnectedCallback",this,3)([]),this._subscribed&&(this._subscribed(),this._subscribed=void 0)}},{kind:"method",key:"firstUpdated",value:(t=(0,w.A)((0,A.A)().mark((function n(){var e=this;return(0,A.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.knx.project?this._isGroupRangeAvailable():this.knx.loadProject().then((function(){e._isGroupRangeAvailable(),e.requestUpdate()})),(0,Q.ke)(this.hass).then((function(n){e._lastTelegrams=n})).catch((function(n){$.error("getGroupTelegrams",n),(0,D.o)("/knx/error",{replace:!0,data:n})})),n.next=4,(0,Q.EE)(this.hass,(function(n){e.telegram_callback(n)}));case 4:this._subscribed=n.sent;case 5:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{kind:"method",key:"_isGroupRangeAvailable",value:function(){var n,e,t=null!==(n=null===(e=this.knx.project)||void 0===e?void 0:e.knxproject.info.xknxproject_version)&&void 0!==n?n:"0.0.0";$.debug("project version: "+t),this._groupRangeAvailable=V(t,"3.3.0",">=")}},{kind:"method",key:"telegram_callback",value:function(n){this._lastTelegrams=Object.assign(Object.assign({},this._lastTelegrams),{},(0,_.A)({},n.destination,n))}},{kind:"field",key:"_columns",value:function(){var n=this;return(0,T.A)((function(e,t){return{address:{filterable:!0,sortable:!0,title:n.knx.localize("project_view_table_address"),flex:1,minWidth:"100px"},name:{filterable:!0,sortable:!0,title:n.knx.localize("project_view_table_name"),flex:3},dpt:{sortable:!0,filterable:!0,title:n.knx.localize("project_view_table_dpt"),flex:1,minWidth:"82px",template:function(n){return n.dpt?(0,z.qy)(l||(l=(0,x.A)(['<span style="display:inline-block;width:24px;text-align:right;"\n                  >',"</span\n                >"," "])),n.dpt.main,n.dpt.sub?"."+n.dpt.sub.toString().padStart(3,"0"):""):""}},lastValue:{filterable:!0,title:n.knx.localize("project_view_table_last_value"),flex:2,template:function(e){var t=n._lastTelegrams[e.address];if(!t)return"";var r=J.e.payload(t);return null==t.value?(0,z.qy)(c||(c=(0,x.A)(["<code>","</code>"])),r):(0,z.qy)(u||(u=(0,x.A)(["<div title=",">\n            ","\n          </div>"])),r,J.e.valueWithUnit(n._lastTelegrams[e.address]))}},updated:{title:n.knx.localize("project_view_table_updated"),flex:1,showNarrow:!1,template:function(e){var t=n._lastTelegrams[e.address];if(!t)return"";var r="".concat(J.e.dateWithMilliseconds(t),"\n\n").concat(t.source," ").concat(t.source_name);return(0,z.qy)(h||(h=(0,x.A)(["<div title=",">\n            ","\n          </div>"])),r,(0,Z.K)(new Date(t.timestamp),n.hass.locale))}}}}))}},{kind:"method",key:"_getRows",value:function(n){return n.length?Object.entries(this.knx.project.knxproject.group_addresses).reduce((function(e,t){var r=(0,b.A)(t,2),a=r[0],i=r[1];return n.includes(a)&&e.push(i),e}),[]):Object.values(this.knx.project.knxproject.group_addresses)}},{kind:"method",key:"_visibleAddressesChanged",value:function(n){this._visibleGroupAddresses=n.detail.groupAddresses}},{kind:"method",key:"render",value:function(){if(!this.hass||!this.knx.project)return(0,z.qy)(p||(p=(0,x.A)([" <hass-loading-screen></hass-loading-screen> "])));var n=this._getRows(this._visibleGroupAddresses);return(0,z.qy)(g||(g=(0,x.A)(["\n      <hass-tabs-subpage\n        .hass=","\n        .narrow=","\n        .route=","\n        .tabs=","\n        .localizeFunc=","\n      >\n        ","\n      </hass-tabs-subpage>\n    "])),this.hass,this.narrow,this.route,this.tabs,this.knx.localize,this.knx.project.project_loaded?(0,z.qy)(v||(v=(0,x.A)(["",'\n              <div class="sections">\n                ','\n                <ha-data-table\n                  class="ga-table"\n                  .hass=',"\n                  .columns=","\n                  .data=","\n                  .hasFab=","\n                  .searchLabel=","\n                  .clickable=","\n                ></ha-data-table>\n              </div>"])),this.narrow&&this._groupRangeAvailable?(0,z.qy)(f||(f=(0,x.A)(['<ha-icon-button\n                    slot="toolbar-icon"\n                    .label=',"\n                    .path=","\n                    @click=","\n                  ></ha-icon-button>"])),this.hass.localize("ui.components.related-filter-menu.filter"),"M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",this._toggleRangeSelector):z.s6,this._groupRangeAvailable?(0,z.qy)(m||(m=(0,x.A)(["\n                      <knx-project-tree-view\n                        .data=","\n                        @knx-group-range-selection-changed=","\n                      ></knx-project-tree-view>\n                    "])),this.knx.project.knxproject,this._visibleAddressesChanged):z.s6,this.hass,this._columns(this.narrow,this.hass.language),n,!1,this.hass.localize("ui.components.data-table.search"),!1):(0,z.qy)(k||(k=(0,x.A)([" <ha-card .header=",'>\n              <div class="card-content">\n                <p>',"</p>\n              </div>\n            </ha-card>"])),this.knx.localize("attention"),this.knx.localize("project_view_upload")))}},{kind:"method",key:"_toggleRangeSelector",value:function(){this.rangeSelectorHidden=!this.rangeSelectorHidden}},{kind:"get",static:!0,key:"styles",value:function(){return(0,z.AH)(y||(y=(0,x.A)(["\n      hass-loading-screen {\n        --app-header-background-color: var(--sidebar-background-color);\n        --app-header-text-color: var(--sidebar-text-color);\n      }\n      .sections {\n        display: flex;\n        flex-direction: row;\n        height: 100%;\n      }\n\n      :host([narrow]) knx-project-tree-view {\n        position: absolute;\n        max-width: calc(100% - 60px); /* 100% -> max 871px before not narrow */\n        z-index: 1;\n        right: 0;\n        transition: 0.5s;\n        border-left: 1px solid var(--divider-color);\n      }\n\n      :host([narrow][range-selector-hidden]) knx-project-tree-view {\n        width: 0;\n      }\n\n      :host(:not([narrow])) knx-project-tree-view {\n        max-width: 255px; /* min 616px - 816px for tree-view + ga-table (depending on side menu) */\n      }\n\n      .ga-table {\n        flex: 1;\n      }\n    "])))}}]}}),z.WF)}}]);