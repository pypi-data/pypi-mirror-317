"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([[5519],{32872:function(e,n,r){r.d(n,{x:function(){return t}});r(53501),r(34517);var t=function(e,n){return e&&e.config.components.includes(n)}},14656:function(e,n,r){r.d(n,{v:function(){return o}});var t=r(22481),o=(r(53501),r(650),r(34517),function(e,n,r,o){var i=e.split(".",3),a=(0,t.A)(i,3),s=a[0],d=a[1],u=a[2];return Number(s)>n||Number(s)===n&&(void 0===o?Number(d)>=r:Number(d)>r)||void 0!==o&&Number(s)===n&&Number(d)===r&&Number(u)>=o})},55519:function(e,n,r){r.r(n),r.d(n,{HaAddonSelector:function(){return Z}});var t,o,i,a,s,d,u=r(6238),l=r(36683),c=r(89231),h=r(29864),v=r(83647),f=r(8364),k=(r(77052),r(98597)),p=r(196),y=r(94881),b=r(1781),m=(r(69466),r(14460),r(848),r(68113),r(66274),r(85038),r(32872)),A=r(33167),g=r(66412),_=(r(27934),r(4187),r(85767),r(14656)),x=r(12263),w=function(){var e=(0,b.A)((0,y.A)().mark((function e(n){return(0,y.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,_.v)(n.config.version,2021,2,4)){e.next=2;break}return e.abrupt("return",n.callWS({type:"supervisor/api",endpoint:"/addons",method:"get"}));case 2:return e.t0=x.PS,e.next=5,n.callApi("GET","hassio/addons");case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=(r(91074),r(66442),r(9484),function(e){return(0,k.qy)(t||(t=(0,u.A)(['<ha-list-item twoline graphic="icon">\n    <span>','</span>\n    <span slot="secondary">',"</span>\n    ","\n  </ha-list-item>"])),e.name,e.slug,e.icon?(0,k.qy)(o||(o=(0,u.A)(['<img\n          alt=""\n          slot="graphic"\n          .src="/api/hassio/addons/','/icon"\n        />'])),e.slug):"")}),Z=((0,f.A)([(0,p.EM)("ha-addon-picker")],(function(e,n){var r,t=function(n){function r(){var n;(0,c.A)(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=(0,h.A)(this,r,[].concat(o)),e(n),n}return(0,v.A)(r,n),(0,l.A)(r)}(n);return{F:t,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"value",value:function(){return""}},{kind:"field",decorators:[(0,p.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,p.wk)()],key:"_addons",value:void 0},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"required",value:function(){return!1}},{kind:"field",decorators:[(0,p.P)("ha-combo-box")],key:"_comboBox",value:void 0},{kind:"field",decorators:[(0,p.wk)()],key:"_error",value:void 0},{kind:"method",key:"open",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.open()}},{kind:"method",key:"focus",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.focus()}},{kind:"method",key:"firstUpdated",value:function(){this._getAddons()}},{kind:"method",key:"render",value:function(){return this._error?(0,k.qy)(i||(i=(0,u.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):this._addons?(0,k.qy)(a||(a=(0,u.A)(["\n      <ha-combo-box\n        .hass=","\n        .label=","\n        .value=","\n        .required=","\n        .disabled=","\n        .helper=","\n        .renderer=","\n        .items=",'\n        item-value-path="slug"\n        item-id-path="slug"\n        item-label-path="name"\n        @value-changed=',"\n      ></ha-combo-box>\n    "])),this.hass,void 0===this.label&&this.hass?this.hass.localize("ui.components.addon-picker.addon"):this.label,this._value,this.required,this.disabled,this.helper,M,this._addons,this._addonChanged):k.s6}},{kind:"method",key:"_getAddons",value:(r=(0,b.A)((0,y.A)().mark((function e(){var n,r=this;return(0,y.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(0,m.x)(this.hass,"hassio")){e.next=8;break}return e.next=4,w(this.hass);case 4:n=e.sent,this._addons=n.addons.filter((function(e){return e.version})).sort((function(e,n){return(0,g.x)(e.name,n.name,r.hass.locale.language)})),e.next=9;break;case 8:this._error=this.hass.localize("ui.components.addon-picker.error.no_supervisor");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this._error=this.hass.localize("ui.components.addon-picker.error.fetch_addons");case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return r.apply(this,arguments)})},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_addonChanged",value:function(e){e.stopPropagation();var n=e.detail.value;n!==this._value&&this._setValue(n)}},{kind:"method",key:"_setValue",value:function(e){var n=this;this.value=e,setTimeout((function(){(0,A.r)(n,"value-changed",{value:e}),(0,A.r)(n,"change")}),0)}}]}}),k.WF),(0,f.A)([(0,p.EM)("ha-selector-addon")],(function(e,n){var r=function(n){function r(){var n;(0,c.A)(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=(0,h.A)(this,r,[].concat(o)),e(n),n}return(0,v.A)(r,n),(0,l.A)(r)}(n);return{F:r,d:[{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"required",value:function(){return!0}},{kind:"method",key:"render",value:function(){return(0,k.qy)(s||(s=(0,u.A)(["<ha-addon-picker\n      .hass=","\n      .value=","\n      .label=","\n      .helper=","\n      .disabled=","\n      .required=","\n      allow-custom-entity\n    ></ha-addon-picker>"])),this.hass,this.value,this.label,this.helper,this.disabled,this.required)}},{kind:"field",static:!0,key:"styles",value:function(){return(0,k.AH)(d||(d=(0,u.A)(["\n    ha-addon-picker {\n      width: 100%;\n    }\n  "])))}}]}}),k.WF))},12263:function(e,n,r){r.d(n,{PS:function(){return o},VR:function(){return i}});r(94881),r(1781);var t=r(67234),o=(r(53501),r(21950),r(68113),r(57733),r(18404),r(14178),r(5787),r(19394),r(92289),r(61350),r(35832),r(34517),r(56262),r(8339),r(14656),function(e){return e.data}),i=function(e){return"object"===(0,t.A)(e)?"object"===(0,t.A)(e.body)?e.body.message||"Unknown error, see supervisor logs":e.body||e.message||"Unknown error, see supervisor logs":e};new Set([502,503,504])}}]);