{"ast":null,"code":"import _objectSpread from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"label\",\"value\",\"onChange\",\"hotkey\"];import{TextField}from'@mui/material';import InputAdornment from'@mui/material/InputAdornment';import Typography from'@mui/material/Typography';import React,{useEffect,useRef,useState}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var HotkeyFocusTextField=function HotkeyFocusTextField(_ref){var label=_ref.label,value=_ref.value,onChange=_ref.onChange,_ref$hotkey=_ref.hotkey,hotkey=_ref$hotkey===void 0?'/':_ref$hotkey,props=_objectWithoutProperties(_ref,_excluded);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFocused=_useState2[0],setIsFocused=_useState2[1];var textFieldRef=useRef(null);var handleKeyDown=function handleKeyDown(event){if(event.key===hotkey&&document.activeElement!==textFieldRef.current){var _textFieldRef$current;event.preventDefault();setIsFocused(true);(_textFieldRef$current=textFieldRef.current)===null||_textFieldRef$current===void 0?void 0:_textFieldRef$current.focus();}};useEffect(function(){document.addEventListener('keydown',handleKeyDown);return function(){document.removeEventListener('keydown',handleKeyDown);};},[hotkey]);return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},props),{},{label:label,value:value,onChange:onChange,inputRef:textFieldRef,autoFocus:isFocused,onBlur:function onBlur(){return setIsFocused(false);},onFocus:function onFocus(){return setIsFocused(true);},InputProps:{endAdornment:!isFocused&&!value?/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsxs(Typography,{color:\"textSecondary\",style:{fontSize:'inherit'},children:[\"Type \",hotkey,\" to search\"]})}):null}}));};export default HotkeyFocusTextField;","map":{"version":3,"names":["TextField","InputAdornment","Typography","React","useEffect","useRef","useState","jsxs","_jsxs","jsx","_jsx","HotkeyFocusTextField","_ref","label","value","onChange","_ref$hotkey","hotkey","props","_objectWithoutProperties","_excluded","_useState","_useState2","_slicedToArray","isFocused","setIsFocused","textFieldRef","handleKeyDown","event","key","document","activeElement","current","_textFieldRef$current","preventDefault","focus","addEventListener","removeEventListener","_objectSpread","inputRef","autoFocus","onBlur","onFocus","InputProps","endAdornment","position","children","color","style","fontSize"],"sources":["/home/runner/work/inference/inference/xinference/web/ui/src/components/hotkeyFocusTextField.js"],"sourcesContent":["import { TextField } from '@mui/material'\nimport InputAdornment from '@mui/material/InputAdornment'\nimport Typography from '@mui/material/Typography'\nimport React, { useEffect, useRef, useState } from 'react'\n\nconst HotkeyFocusTextField = ({\n  label,\n  value,\n  onChange,\n  hotkey = '/',\n  ...props\n}) => {\n  const [isFocused, setIsFocused] = useState(false)\n  const textFieldRef = useRef(null)\n  const handleKeyDown = (event) => {\n    if (\n      event.key === hotkey &&\n      document.activeElement !== textFieldRef.current\n    ) {\n      event.preventDefault()\n      setIsFocused(true)\n      textFieldRef.current?.focus()\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown)\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [hotkey])\n\n  return (\n    <TextField\n      {...props}\n      label={label}\n      value={value}\n      onChange={onChange}\n      inputRef={textFieldRef}\n      autoFocus={isFocused}\n      onBlur={() => setIsFocused(false)}\n      onFocus={() => setIsFocused(true)}\n      InputProps={{\n        endAdornment:\n          !isFocused && !value ? (\n            <InputAdornment position=\"end\">\n              <Typography color=\"textSecondary\" style={{ fontSize: 'inherit' }}>\n                Type {hotkey} to search\n              </Typography>\n            </InputAdornment>\n          ) : null,\n      }}\n    />\n  )\n}\n\nexport default HotkeyFocusTextField\n"],"mappings":"8eAAA,OAASA,SAAS,KAAQ,eAAe,CACzC,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,QAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAE1D,GAAM,CAAAC,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAAC,IAAA,CAMpB,IALJ,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CACLC,KAAK,CAAAF,IAAA,CAALE,KAAK,CACLC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CAAAC,WAAA,CAAAJ,IAAA,CACRK,MAAM,CAANA,MAAM,CAAAD,WAAA,UAAG,GAAG,CAAAA,WAAA,CACTE,KAAK,CAAAC,wBAAA,CAAAP,IAAA,CAAAQ,SAAA,EAER,IAAAC,SAAA,CAAkCf,QAAQ,CAAC,KAAK,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,GAAM,CAAAI,YAAY,CAAGrB,MAAM,CAAC,IAAI,CAAC,CACjC,GAAM,CAAAsB,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,KAAK,CAAK,CAC/B,GACEA,KAAK,CAACC,GAAG,GAAKZ,MAAM,EACpBa,QAAQ,CAACC,aAAa,GAAKL,YAAY,CAACM,OAAO,CAC/C,KAAAC,qBAAA,CACAL,KAAK,CAACM,cAAc,CAAC,CAAC,CACtBT,YAAY,CAAC,IAAI,CAAC,CAClB,CAAAQ,qBAAA,CAAAP,YAAY,CAACM,OAAO,UAAAC,qBAAA,iBAApBA,qBAAA,CAAsBE,KAAK,CAAC,CAAC,CAC/B,CACF,CAAC,CAED/B,SAAS,CAAC,UAAM,CACd0B,QAAQ,CAACM,gBAAgB,CAAC,SAAS,CAAET,aAAa,CAAC,CAEnD,MAAO,WAAM,CACXG,QAAQ,CAACO,mBAAmB,CAAC,SAAS,CAAEV,aAAa,CAAC,CACxD,CAAC,CACH,CAAC,CAAE,CAACV,MAAM,CAAC,CAAC,CAEZ,mBACEP,IAAA,CAACV,SAAS,CAAAsC,aAAA,CAAAA,aAAA,IACJpB,KAAK,MACTL,KAAK,CAAEA,KAAM,CACbC,KAAK,CAAEA,KAAM,CACbC,QAAQ,CAAEA,QAAS,CACnBwB,QAAQ,CAAEb,YAAa,CACvBc,SAAS,CAAEhB,SAAU,CACrBiB,MAAM,CAAE,SAAAA,OAAA,QAAM,CAAAhB,YAAY,CAAC,KAAK,CAAC,EAAC,CAClCiB,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAjB,YAAY,CAAC,IAAI,CAAC,EAAC,CAClCkB,UAAU,CAAE,CACVC,YAAY,CACV,CAACpB,SAAS,EAAI,CAACV,KAAK,cAClBJ,IAAA,CAACT,cAAc,EAAC4C,QAAQ,CAAC,KAAK,CAAAC,QAAA,cAC5BtC,KAAA,CAACN,UAAU,EAAC6C,KAAK,CAAC,eAAe,CAACC,KAAK,CAAE,CAAEC,QAAQ,CAAE,SAAU,CAAE,CAAAH,QAAA,EAAC,OAC3D,CAAC7B,MAAM,CAAC,YACf,EAAY,CAAC,CACC,CAAC,CACf,IACR,CAAE,EACH,CAAC,CAEN,CAAC,CAED,cAAe,CAAAN,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}