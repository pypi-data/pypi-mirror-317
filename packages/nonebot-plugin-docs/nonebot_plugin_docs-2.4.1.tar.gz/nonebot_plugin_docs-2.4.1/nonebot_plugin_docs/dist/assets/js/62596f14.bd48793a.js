"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([["310"],{88093:function(e,a,s){s.d(a,{l:()=>m});var t=s("24246"),r=s("27378"),n=s("90496"),l=s("92739"),i=s("28277"),c=s("94203");function o(e){let{label:a,color:s,className:r,onClick:l}=e;return(0,t.jsx)("span",{className:(0,n.Z)("tag",r),style:{backgroundColor:s,color:(0,c.k)(s,"#fff","#000")},onClick:l,children:a})}function d(e){let{allowTags:a,onTagUpdate:s}=e,[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)("#ea5252"),f=Array.from(new Set(a.filter(e=>e.label.toLocaleLowerCase().includes(u)).map(e=>e.label))).slice(0,5),x=()=>u.length>=1&&u.length<=10,g=()=>{if(!(c.length>=3)){if(x()){let e=[...c,{label:u,color:h}];d(e),s(e)}}},j=e=>{let a=c.filter((a,s)=>s!==e);d(a),s(a)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("label",{className:"flex flex-wrap gap-x-1 gap-y-1",children:[c.map((e,a)=>(0,t.jsx)(o,{...e,className:"cursor-pointer",onClick:()=>j(a)},a)),c.length<3&&(0,t.jsxs)("span",{className:(0,n.Z)("add-btn",{"add-btn-disabled":!x()}),onClick:()=>g(),children:[(0,t.jsx)(l.G,{className:"pr-1",icon:["fas","plus"]}),"\u65B0\u5EFA\u6807\u7B7E"]})]}),(0,t.jsxs)("div",{className:"form-item-container",children:[(0,t.jsx)("span",{className:"form-item-title",children:"\u6807\u7B7E\u540D\u79F0"}),(0,t.jsxs)("div",{className:"dropdown dropdown-bottom w-full",children:[(0,t.jsx)("input",{type:"text",value:u,className:"form-item form-item-input",placeholder:"\u8BF7\u8F93\u5165",onChange:e=>m(e.target.value)}),f.length>0&&(0,t.jsx)("ul",{tabIndex:0,className:"dropdown-content z-10 menu p-2 shadow bg-base-100 rounded-box w-52",children:f.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("a",{onClick:()=>m(e),children:e})},e))})]})]}),(0,t.jsxs)("div",{className:"form-item-container",children:[(0,t.jsx)("span",{className:"form-item-title",children:"\u6807\u7B7E\u989C\u8272"}),(0,t.jsx)(i.AI,{className:"my-4 fix-input-color",color:h,disableAlpha:!0,onChangeComplete:e=>{p(e.hex)}})]})]})}var u=s("94904");function m(e){let{type:a,children:s,formItems:l,handleSubmit:i}=e,[c,o]=(0,r.useState)(0),[d,m]=(0,r.useState)({}),[p,f]=(0,r.useState)([]);(0,r.useEffect)(()=>{(0,u.q)(a).then(e=>f(e.filter(e=>e.tags.length>0).map(e=>e.tags).flat())).catch(e=>{console.error(e)})},[a]);let x=(e,a)=>{m({...d,[e]:a})},g=()=>{if(!!l[c].items.map(e=>e.name).every(e=>d[e]))o(c+1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("ul",{className:"steps",children:l.map((e,a)=>(0,t.jsx)("li",{className:(0,n.Z)("step",c===a&&"step-primary"),children:e.name},a))}),(0,t.jsx)("div",{className:"form-control w-full min-h-[300px]",children:s||l[c].items.map(e=>(0,t.jsx)(h,{type:e.type,name:e.name,labelText:e.labelText,allowTags:p,result:d,setResult:x},e.name))}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{className:(0,n.Z)("form-btn form-btn-prev",{"form-btn-hidden":0===c}),onClick:()=>c>0&&o(c-1),children:"\u4E0A\u4E00\u6B65"}),(0,t.jsx)("button",{className:"form-btn form-btn-next",onClick:()=>c<l.length-1?g():i(d),children:c===l.length-1?"\u63D0\u4EA4":"\u4E0B\u4E00\u6B65"})]})]})}function h(e){let{type:a,name:s,labelText:r,allowTags:l,result:i,setResult:c}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{className:"label",children:(0,t.jsx)("span",{className:"label-text",children:r})}),"text"===a&&(0,t.jsx)("input",{value:i[s]||"",type:"text",name:s,onChange:e=>c(s,e.target.value),placeholder:"\u8BF7\u8F93\u5165",className:(0,n.Z)("form-input",{"form-input-error":!i[s]})}),"text"===a&&!i[s]&&(0,t.jsx)("label",{className:"label",children:(0,t.jsxs)("span",{className:"form-label form-label-error",children:["\u8BF7\u8F93\u5165",r]})}),"tag"===a&&(0,t.jsx)(d,{allowTags:l,onTagUpdate:e=>c(s,JSON.stringify(e))})]})}},93812:function(e,a,s){s.d(a,{Z:function(){return i}});var t=s(24246),r=s(27378),n=s(90496),l=s(6582);function i(e){let{setOpenModal:a,className:s,children:i,useCustomTitle:c,backdropExit:o,title:d}=e,[u,m]=(0,r.useState)(""),h=()=>m("fade-out");return(0,r.useEffect)(()=>m("fade-in"),[]),(0,t.jsxs)("div",{className:(0,n.Z)("nb-modal-root",s),children:[(0,t.jsx)("div",{className:(0,n.Z)("nb-modal-backdrop",u),onTransitionEnd:()=>"fade-out"===u&&a(!1),onClick:()=>o&&h()}),(0,t.jsx)("div",{className:(0,n.Z)("nb-modal-container",u),children:(0,t.jsx)("div",{className:"card bg-base-100 shadow-xl max-w-2xl",children:(0,t.jsxs)("div",{className:"card-body",children:[!c&&(0,t.jsxs)("div",{className:"nb-modal-title",children:[d,(0,t.jsx)("div",{className:"card-actions ml-auto",children:(0,t.jsx)("button",{className:"btn btn-square btn-sm",onClick:h,children:(0,t.jsx)(l.Z,{})})})]}),i]})})})]})}},64117:function(e,a,s){s.d(a,{Z:function(){return i}});var t=s(24246),r=s(27378),n=s(90496),l=s(92739);function i(e){let{className:a,totalPages:s,currentPage:i,setPreviousPage:c,setNextPage:o,setPage:d,previousEnabled:u,nextEnabled:m}=e,h=(0,r.useCallback)((e,a)=>{let s=[];e=e>0?e:1;for(let t=e;t<=a;t++)s.push(t);return s},[]),p=[],f=(0,t.jsx)(l.G,{icon:"ellipsis-h"}),x=0,g=Math.floor(3.5),j=s-g+x+1;if(i+=1,s<=7)p.push(...h(1,s));else if(i>g&&i<j){let e=i-g+2,a=i+g-2-x,t=e-1==2?2:f,r=a+1===s-1?a+1:f;p.push(1,t,...h(e,a),r,s)}else if(i===g){let e=i+g-1-x;p.push(...h(1,e),f,s)}else if(i===j){let e=i-g+1;p.push(1,f,...h(e,s))}else p.push(...h(1,g),f,...h(j,s));return(0,t.jsxs)("nav",{className:(0,n.Z)("paginate-container",a),role:"navigation","aria-label":"Pagination Navigation",children:[(0,t.jsx)("button",{className:"paginate-button",onClick:c,disabled:!u,children:(0,t.jsx)(l.G,{icon:["fas","chevron-left"]})}),(0,t.jsx)("ul",{className:"paginate-pager",children:p.map((e,a)=>(0,t.jsx)("li",{className:(0,n.Z)("paginate-button","number"!=typeof e&&"ellipsis",i===e&&"active"),onClick:()=>"number"==typeof e&&i!==e&&d(e-1),children:e},a))}),(0,t.jsx)("button",{className:"paginate-button",onClick:o,disabled:!m,children:(0,t.jsx)(l.G,{icon:["fas","chevron-right"]})})]})}},74925:function(e,a,s){s.d(a,{Z:function(){return o}});var t=s(24246);s(27378);var r=s(90496),n=s(59229),l=s(92739),i=s(21817),c=s(66821);function o(e){let{resource:a,onClick:s,onTagClick:o,onAuthorClick:d,className:u}=e,m=/^https:\/\/github.com\/[^/]+\/[^/]+/.test(a.homepage),h="plugin"===a.resourceType,p=h&&`https://registry.nonebot.dev/plugin/${a.project_link}:${a.module_name}`,f=`https://github.com/${a.author}`,x=`${f}.png?size=80`;return(0,t.jsxs)("div",{className:(0,r.Z)("resource-card-container",u),children:[(0,t.jsxs)("div",{className:"resource-card-header",children:[(0,t.jsxs)("div",{className:"resource-card-header-title",children:[(0,t.jsx)("div",{className:"resource-card-header-text","data-tip":a.name,children:(0,t.jsx)("div",{className:"truncate min-w-0",children:a.name})}),a.is_official&&(0,t.jsx)(l.G,{className:"resource-card-header-check",icon:["fas","circle-check"]}),(0,t.jsx)(c.ZP,{className:"mx-2",resource:a,validLink:p,simple:!0})]}),(0,t.jsx)("div",{className:"resource-card-header-expand",onClick:s,children:(0,t.jsx)(l.G,{icon:["fas","expand"]})})]}),(0,t.jsx)("div",{className:"resource-card-desc",children:a.desc}),(0,t.jsxs)("div",{className:"resource-card-footer",children:[(0,t.jsx)("div",{className:"resource-card-footer-tags",children:a.tags.map((e,a)=>(0,t.jsx)(i.Z,{className:"resource-card-footer-tag",...e,onClick:()=>o(e.label)},a))}),(0,t.jsx)("div",{className:"divider resource-card-footer-divider"}),(0,t.jsxs)("div",{className:"resource-card-footer-info",children:[(0,t.jsxs)("div",{className:"resource-card-footer-group",children:[(0,t.jsx)(n.Z,{href:a.homepage,children:m?(0,t.jsx)(l.G,{className:"resource-card-footer-icon",icon:["fab","github"]}):(0,t.jsx)(l.G,{className:"resource-card-footer-icon",icon:["fas","link"]})}),h&&(0,t.jsx)(n.Z,{href:p,children:(0,t.jsx)(l.G,{className:"resource-card-footer-icon",icon:["fas","cube"]})})]}),(0,t.jsxs)("div",{className:"resource-card-footer-group",children:[(0,t.jsx)("div",{className:"avatar",children:(0,t.jsx)("div",{className:"resource-card-footer-avatar",children:(0,t.jsx)(n.Z,{href:f,children:(0,t.jsx)("img",{src:x},a.author)})})}),(0,t.jsx)("span",{className:"resource-card-footer-author",onClick:d,children:a.author})]})]})]})]})}},81940:function(e,a,s){s.d(a,{Z:function(){return o}});var t=s(24246),r=s(27378),n=s(92739),l=s(44771),i=s(21817),c=s(66821);function o(e){let{resource:a}=e,[s,o]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),m=`https://github.com/${a.author}`,h=`${m}.png?size=100`,p="plugin"===a.resourceType&&`https://registry.nonebot.dev/plugin/${a.project_link}:${a.module_name}`,f=e=>{switch(e.resourceType){case"plugin":case"adapter":case"driver":return e.project_link;default:return null}},x=e=>fetch(`https://pypi.org/pypi/${e}/json`).then(e=>e.json()).then(e=>o(e)),g=e=>{let a=f(e);a&&((0,l.Z)(`nb ${e.resourceType} install ${a}`),u(!0),setTimeout(()=>u(!1),2e3))};(0,r.useEffect)(()=>{let e=[];"bot"!==a.resourceType&&"driver"!==a.resourceType&&(a.project_link&&e.push(x(a.project_link)),Promise.all(e))},[a]);let j=f(a)||"\u65E0",b=(e=>{switch(e.resourceType){case"plugin":case"adapter":return e.module_name;case"driver":return e.module_name.replace(/~/,"nonebot.drivers.");default:return null}})(a)||"\u65E0",v=(e=>{switch(e.resourceType){case"plugin":case"adapter":case"driver":return e.homepage;default:return null}})(a)||void 0,N=(e=>{switch(e.resourceType){case"plugin":case"adapter":return`https://pypi.org/project/${e.project_link}`;default:return null}})(a)||void 0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"detail-card-header",children:[(0,t.jsx)("img",{src:h,className:"detail-card-avatar",decoding:"async"}),(0,t.jsxs)("div",{className:"detail-card-title",children:[(0,t.jsxs)("span",{className:"detail-card-title-main flex items-center gap-x-1",children:[a.name,a.is_official&&(0,t.jsx)("div",{className:"rounded-md text-sm bg-green-400/10 text-green-600 px-1 py-0.5",children:"\u5B98\u65B9"})]}),(0,t.jsx)("a",{className:"detail-card-title-sub hover:underline hover:text-primary",target:"_blank",rel:"noreferrer",href:m,children:a.author})]}),(0,t.jsxs)("div",{className:"detail-card-actions",children:[(0,t.jsx)(c.ZP,{resource:a,validLink:p,className:"detail-card-actions-desktop"}),(0,t.jsx)("button",{className:"detail-card-actions-button detail-card-actions-desktop w-28",onClick:()=>g(a),children:d?"\u590D\u5236\u6210\u529F":"\u590D\u5236\u5B89\u88C5\u547D\u4EE4"})]})]}),(0,t.jsx)("div",{className:"divider detail-card-header-divider"}),(0,t.jsxs)("div",{className:"detail-card-body",children:[(0,t.jsxs)("div",{className:"detail-card-body-left",children:[(0,t.jsx)("span",{className:"h-full",children:a.desc}),(0,t.jsx)("div",{className:"resource-card-footer-tags mb-4",children:a.tags.map((e,a)=>(0,t.jsx)(i.Z,{className:"align-bottom",...e},a))})]}),(0,t.jsx)("div",{className:"detail-card-body-divider"}),(0,t.jsxs)("div",{className:"detail-card-body-right",children:[(0,t.jsx)("div",{className:"detail-card-meta-item",children:(0,t.jsxs)("span",{children:[(0,t.jsx)(n.G,{fixedWidth:!0,icon:["fab","python"]})," ",s&&s.info.requires_python||"\u65E0"]})}),(0,t.jsxs)("div",{className:"detail-card-meta-item",children:[(0,t.jsx)(n.G,{fixedWidth:!0,icon:["fas","file-zipper"]})," ",s&&s.releases[s.info.version]&&`${s.releases[s.info.version].reduce((e,a)=>e+a.size,0)/1e3}K`||"\u65E0"]}),(0,t.jsx)("div",{className:"detail-card-meta-item",children:(0,t.jsxs)("span",{children:[(0,t.jsx)(n.G,{fixedWidth:!0,icon:["fas","scale-balanced"]})," ",s&&s.info.license||"\u65E0"]})}),(0,t.jsxs)("div",{className:"detail-card-meta-item",children:[(0,t.jsx)(n.G,{fixedWidth:!0,icon:["fas","tag"]})," ",s&&s.info.version||"\u65E0"]}),(0,t.jsxs)("div",{className:"detail-card-meta-item",children:[(0,t.jsx)(n.G,{fixedWidth:!0,icon:["fas","fingerprint"]})," ",(0,t.jsx)("a",{href:v,target:"_blank",rel:"noreferrer",className:v&&"hover:underline hover:text-primary",children:b})]}),(0,t.jsxs)("div",{className:"detail-card-meta-item",children:[(0,t.jsx)(n.G,{fixedWidth:!0,icon:["fas","cubes"]})," ",(0,t.jsx)("a",{href:N,target:"_blank",rel:"noreferrer",className:N&&"hover:underline hover:text-primary",children:j})]}),(0,t.jsxs)("div",{className:"detail-card-actions",children:[(0,t.jsx)(c.ZP,{resource:a,validLink:p,className:"detail-card-actions-mobile"}),(0,t.jsx)("button",{className:"detail-card-actions detail-card-actions-button detail-card-actions-mobile w-28",onClick:()=>g(a),children:d?"\u590D\u5236\u6210\u529F":"\u590D\u5236\u5B89\u88C5\u547D\u4EE4"})]})]})]})]})}},21817:function(e,a,s){s.d(a,{Z:function(){return l}});var t=s(24246);s(27378);var r=s(90496),n=s(94203);function l(e){let{label:a,color:s,className:l,onClick:i}=e;return(0,t.jsx)("span",{className:(0,r.Z)("resource-tag",l),style:{backgroundColor:s,color:(0,n.k)(s,"#fff","#000")},onClick:i,children:a})}},66821:function(e,a,s){s.d(a,{ZP:()=>d});var t,r=s("24246");s("27378");var n=s("90496"),l=s("92739");var i=((t={}).VALID="valid",t.INVALID="invalid",t.SKIP="skip",t.MISSING="missing",t);let c=e=>{if("plugin"===e.resourceType)return e.skip_test?i.SKIP:e.valid?i.VALID:i.INVALID;return i.MISSING},o={[i.VALID]:"plug-circle-check",[i.INVALID]:"plug-circle-xmark",[i.SKIP]:"plug-circle-exclamation",[i.MISSING]:"plug-circle-exclamation"};function d(e){let{resource:a,validLink:s,className:t,simple:d}=e,u=c(a),m=u===i.VALID,h=u===i.INVALID,p=u===i.SKIP;return u!==i.MISSING&&(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:s,className:t,children:(0,r.jsxs)("div",{className:(0,n.Z)({"rounded-md text-sm flex items-center gap-x-1 px-2 py-1 whitespace-nowrap":!d,"bg-green-400/10":!d&&m,"text-green-600 dark:text-green-400":m,"bg-red-400/10":!d&&h,"text-red-600 dark:text-red-400":h,"bg-blue-400/10":!d&&p,"text-blue-600 dark:text-blue-400":p}),children:[(0,r.jsx)(l.G,{icon:o[u]}),!d&&(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsx)("p",{children:"\u63D2\u4EF6\u5DF2\u901A\u8FC7\u6D4B\u8BD5"}),h&&(0,r.jsx)("p",{children:"\u63D2\u4EF6\u672A\u901A\u8FC7\u6D4B\u8BD5"}),p&&(0,r.jsx)("p",{children:"\u63D2\u4EF6\u8DF3\u8FC7\u6D4B\u8BD5"})]})]})})}},37127:function(e,a,s){s.d(a,{Z:function(){return c}});var t=s(24246),r=s(27378),n=s(90496),l=s(97432),i=s(92739);function c(e){let{onChange:a,onSubmit:s,onBackspace:c,onClear:o,onTagClick:d,tags:u=[],className:m,placeholder:h,disabled:p=!1}=e,f=(0,r.useRef)(null),x=e=>{s(e.currentTarget.value),e.currentTarget.value="",e.preventDefault()},g=e=>{e.currentTarget.value=""},j=e=>{""===e.currentTarget.value&&(c(),e.preventDefault())};return(0,t.jsxs)("div",{className:(0,n.Z)("searcher-box",m),children:[(0,t.jsxs)("div",{className:"searcher-container",children:[u.map((e,a)=>(0,t.jsx)("div",{className:"badge badge-primary searcher-tag",onClick:()=>d(a),children:e},a)),(0,t.jsx)("input",{ref:f,className:"searcher-input",placeholder:h??(0,l.I)({id:"theme.searcher.input.placeholder",description:"Search input placeholder",message:"\u641C\u7D22"}),onChange:e=>a(e.currentTarget.value),onKeyDown:e=>{switch(e.key){case"Enter":x(e);break;case"Escape":g(e);break;case"Backspace":j(e)}},disabled:p})]}),(0,t.jsxs)("div",{className:"searcher-action",onClick:()=>{f.current&&(f.current.value="",f.current.focus()),o()},children:[(0,t.jsx)(i.G,{className:"searcher-action-icon search",icon:["fas","magnifying-glass"]}),(0,t.jsx)(i.G,{className:"searcher-action-icon close",icon:["fas","xmark"]})]})]})}},56399:function(e,a,s){s.d(a,{Z:function(){return h}});var t=s(24246);s(27378);var r=s(1027),n=s(39343),l=s(63338),i=s(84638),c=s(92521),o=s(12646),d=s(87806);let u="ecosystem";function m(e){let{title:a,children:s}=e,n=(0,l.Uo)((0,r.lO)()[0].name,u);return(0,t.jsxs)(d.Z,{hideTableOfContents:!0,reduceContentWidth:!1,sidebarId:u,children:[(0,t.jsx)(i.uB,{items:n}),(0,t.jsxs)("article",{className:"prose max-w-full",children:[(0,t.jsx)("h1",{className:"store-title",children:a}),s]})]})}function h(e){let{title:a,...s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.d,{title:a}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(c.Z,{}),(0,t.jsx)(m,{title:a,...s})]})]})}},85790:function(e,a,s){s.d(a,{Z:function(){return c}});var t=s(24246),r=s(27378),n=s(90496),l=s(92739);function i(e){let{label:a,icon:s,choices:n,onSubmit:i}=e,[c,o]=(0,r.useState)(""),d=n?.filter(e=>e.toLowerCase().includes(c.toLowerCase()))?.slice(0,5),u=()=>{d&&d.length>0?i(d[0]):null===n&&i(c)},m=e=>{"Enter"===e.key&&(i(e.currentTarget.innerText),e.preventDefault())};return(0,t.jsxs)("div",{className:"dropdown",children:[(0,t.jsxs)("label",{className:"btn btn-sm btn-outline btn-primary no-animation",tabIndex:0,children:[(0,t.jsx)(l.G,{icon:s}),a]}),(0,t.jsxs)("div",{className:"dropdown-content store-toolbar-dropdown",children:[(0,t.jsx)("input",{type:"text",placeholder:"\u641C\u7D22",value:c,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(u(),e.preventDefault())},className:"input input-sm input-bordered w-full"}),d&&(0,t.jsx)("ul",{className:"menu menu-sm",children:d.map((e,a)=>(0,t.jsx)("li",{onClick:()=>i(e),onKeyDown:m,children:(0,t.jsx)("a",{tabIndex:0,children:e})},a))})]})]})}function c(e){let{filters:a,action:s,className:r}=e;return a&&a.length>0||s?(0,t.jsxs)("div",{className:(0,n.Z)("store-toolbar",r),children:[a&&a.length>0&&(0,t.jsx)("div",{className:"store-toolbar-filters",children:a.map((e,a)=>(0,t.jsx)(i,{...e},a))}),s&&(0,t.jsx)("div",{className:"store-toolbar-action",children:(0,t.jsxs)("button",{className:"btn btn-sm btn-primary no-animation",onClick:s.onClick,children:[(0,t.jsx)(l.G,{icon:s.icon}),s.label]})})]}):null}},94203:function(e,a,s){s.d(a,{k:function(){return t}});function t(e,a,s){let t="#"===e.charAt(0)?e.substring(1,7):e,r=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16);return .299*r+.587*n+.114*parseInt(t.substring(4,6),16)>186?s:a}},38625:function(e,a,s){s.d(a,{Ac:function(){return l},IA:function(){return i},RQ:function(){return n},SY:function(){return c}});var t=s(27378),r=s(97432);let n=e=>({type:"tag",id:`tag-${e}`,displayName:(0,r.I)({id:"pages.store.filter.tagDisplayName",description:"The display name of tag filter",message:"\u6807\u7B7E: {tag}"},{tag:e}),filter:a=>a.tags.map(e=>e.label).includes(e)}),l=e=>({type:"author",id:`author-${e}`,displayName:(0,r.I)({id:"pages.store.filter.authorDisplayName",description:"The display name of author filter",message:"\u4F5C\u8005: {author}"},{author:e}),filter:a=>a.author===e}),i=e=>({type:"query",id:`query-${e}`,displayName:e,filter:a=>{if(!e)return!0;let s=e.toLowerCase(),t="plugin"===a.resourceType&&(a.module_name?.toLowerCase().includes(s)||a.project_link?.toLowerCase().includes(s)),r=a.name.toLowerCase().includes(s)||a.desc.toLowerCase().includes(s)||a.author.toLowerCase().includes(s)||a.tags.filter(e=>e.label.toLowerCase().includes(s)).length>0;return t||r}});function c(e){let[a,s]=(0,t.useState)([]),r=(0,t.useCallback)(e=>{!a.some(a=>a.id===e.id)&&s(a=>[...a,e])},[a,s]),n=(0,t.useCallback)(e=>{s(a=>a.filter(a=>"string"==typeof e?a.id!==e:a!==e))},[s]),l=(0,t.useCallback)(()=>{var s,t;return s=e,t=a,s.filter(e=>t.every(a=>a.filter(e)))},[e,a]);return{filters:a,addFilter:r,removeFilter:n,filteredResources:l()}}},44075:function(e,a,s){s.d(a,{r:function(){return n}});var t=s(27378),r=s(38625);function n(e){let[a,s]=(0,t.useState)(null),{filters:n,addFilter:l,removeFilter:i,filteredResources:c}=(0,r.SY)(e),[o,d]=(0,t.useState)([]);(0,t.useEffect)(()=>{d(n.filter(e=>!(a&&e===a)))},[n,a]);let u=(0,t.useCallback)(e=>{if(""===e){a&&i(a),s(null);return}let t=(0,r.IA)(e);a?.id!==t.id&&(a&&i(a),s(t),l(t))},[a,s,l,i]),m=(0,t.useCallback)(()=>{s(null)},[s]),h=(0,t.useCallback)(()=>{i(o[o.length-1])},[i,o]),p=(0,t.useCallback)(()=>{o.forEach(e=>i(e))},[i,o]),f=(0,t.useCallback)(e=>{i(o[e])},[i,o]);return{filteredResources:c,searcherTags:o.map(e=>e.displayName),addFilter:l,onSearchQueryChange:u,onSearchQuerySubmit:m,onSearchBackspace:h,onSearchClear:p,onSearchTagClick:f}}},94904:function(e,a,s){async function t(e){let a=await fetch(`https://registry.nonebot.dev/${e}s.json`).catch(a=>{throw Error(`Failed to fetch ${e}s: ${a}`)});if(!a.ok)throw Error(`Failed to fetch ${e}s: ${a.status} ${a.statusText}`);return(await a.json()).map(a=>({...a,resourceType:e}))}s.d(a,{J:function(){return r},q:function(){return t}});let r=(0,s(97432).I)({id:"pages.store.loadFailed.title",message:"\u52A0\u8F7D\u5931\u8D25",description:"Title to display when loading content failed"})},17243:function(e,a,s){s.d(a,{S:function(){return r}});var t=s(38625);function r(e){let{resources:a,addFilter:s}=e,r={label:"\u4F5C\u8005",icon:["fas","user"],choices:Array.from(new Set(a.map(e=>e.author))),onSubmit:e=>{s((0,t.Ac)(e))}};return{filters:[r,{label:"\u6807\u7B7E",icon:["fas","tag"],choices:Array.from(new Set(a.flatMap(e=>e.tags.map(e=>e.label)))),onSubmit:e=>{s((0,t.RQ)(e))}}]}}},94441:function(e,a,s){s.r(a),s.d(a,{default:()=>y});var t=s("24246"),r=s("27378"),n=s("97432"),l=s("48809"),i=s("33287"),c=s("88093");function o(){return(0,t.jsx)(c.l,{type:"plugin",formItems:[{name:"\u5305\u4FE1\u606F",items:[{type:"text",name:"pypi",labelText:"PyPI \u9879\u76EE\u540D"},{type:"text",name:"module",labelText:"\u63D2\u4EF6 import \u5305\u540D"}]},{name:"\u5176\u4ED6\u4FE1\u606F",items:[{type:"tag",name:"tags",labelText:"\u6807\u7B7E"}]}],handleSubmit:e=>{window.open(`https://github.com/nonebot/nonebot2/issues/new?${new URLSearchParams({assignees:"",labels:"Plugin",projects:"",template:"plugin_publish.yml",title:`Plugin: ${e.pypi}`,...e})}`)}})}var d=s("93812"),u=s("64117"),m=s("74925"),h=s("81940"),p=s("37127"),f=s("85790"),x=s("38625"),g=s("44075"),j=s("94904"),b=s("17243");function v(){let[e,a]=(0,r.useState)(null),s=e?.length??0,c=null===e,[v,N]=(0,r.useState)(null),[y,k]=(0,r.useState)(!1),[C,w]=(0,r.useState)(!1),[Z,S]=(0,r.useState)(null),{filteredResources:I,searcherTags:T,addFilter:P,onSearchQueryChange:$,onSearchQuerySubmit:G,onSearchBackspace:A,onSearchClear:L,onSearchTagClick:E}=(0,g.r)(e??[]),_=I.length,{startIndex:D,endIndex:R,totalPages:F,currentPage:z,setNextPage:K,setPreviousPage:M,setPage:V,previousEnabled:W,nextEnabled:q}=(0,l.h0)({totalItems:I.length,initialPageSize:12}),O=I.slice(D,R+1);(0,r.useEffect)(()=>{(0,j.q)("plugin").then(a).catch(e=>{N(e),console.error(e)})},[]);let{filters:B}=(0,b.S)({resources:e??[],addFilter:P}),J=(0,r.useCallback)(e=>{S(e),w(!0)},[]),Q=(0,r.useCallback)(e=>{P((0,x.RQ)(e))},[P]),U=(0,r.useCallback)(e=>{P((0,x.Ac)(e))},[P]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"store-description",children:s===_?(0,t.jsx)(n.Z,{id:"pages.store.plugin.info",description:"Plugins info of the plugin store page",values:{pluginCount:s},children:"\u5F53\u524D\u5171\u6709 {pluginCount} \u4E2A\u63D2\u4EF6"}):(0,t.jsx)(n.Z,{id:"pages.store.plugin.searchInfo",description:"Plugins search info of the plugin store page",values:{pluginCount:s,filteredPluginCount:_},children:"\u5F53\u524D\u5171\u6709 {filteredPluginCount} / {pluginCount} \u4E2A\u63D2\u4EF6"})}),(0,t.jsx)(p.Z,{className:"store-searcher not-prose",onChange:$,onSubmit:G,onBackspace:A,onClear:L,onTagClick:E,tags:T,disabled:c}),(0,t.jsx)(f.Z,{className:"not-prose",filters:B,action:{label:"\u53D1\u5E03\u63D2\u4EF6",icon:["fas","plus"],onClick:()=>{k(!0)}}}),v?(0,t.jsx)(i.Z,{type:"caution",title:j.J,children:v.message}):c?(0,t.jsx)("p",{className:"store-loading-container",children:(0,t.jsx)("span",{className:"loading loading-dots loading-lg store-loading"})}):(0,t.jsx)("div",{className:"store-container",children:O.map((e,a)=>(0,t.jsx)(m.Z,{className:"not-prose",resource:e,onClick:()=>J(e),onTagClick:Q,onAuthorClick:()=>U(e.author)},a))}),(0,t.jsx)(u.Z,{className:"not-prose",totalPages:F,currentPage:z,setNextPage:K,setPreviousPage:M,setPage:V,nextEnabled:q,previousEnabled:W}),y&&(0,t.jsx)(d.Z,{className:"not-prose",title:"\u53D1\u5E03\u63D2\u4EF6",setOpenModal:k,children:(0,t.jsx)(o,{})}),C&&(0,t.jsx)(d.Z,{className:"not-prose",useCustomTitle:!0,backdropExit:!0,title:"\u63D2\u4EF6\u8BE6\u60C5",setOpenModal:w,children:Z&&(0,t.jsx)(h.Z,{resource:Z})})]})}var N=s("56399");function y(){let e=(0,n.I)({id:"pages.store.plugin.title",message:"\u63D2\u4EF6\u5546\u5E97",description:"Title for the plugin store page"});return(0,t.jsx)(N.Z,{title:e,children:(0,t.jsx)(v,{})})}},31948:function(e,a,s){s.d(a,{Z:function(){return l}});var t=s(24246);s(27378);var r=s(82381),n=s(10720);function l(e){let{children:a,...s}=e,l=(0,r.useWindowSize)();return(0,t.jsxs)(n.Z,{...s,children:[a,"ssr"!==l&&(0,t.jsx)("div",{className:"toc-ads-container",children:(0,t.jsx)("div",{className:"wwads-cn wwads-vertical toc-ads","data-id":"281"})})]})}},44771:function(e,a,s){s.d(a,{Z:function(){return t}});function t(e){let{target:a=document.body}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw TypeError(`Expected parameter \`text\` to be a \`string\`, got \`${typeof e}\`.`);let s=document.createElement("textarea"),t=document.activeElement;s.value=e,s.setAttribute("readonly",""),s.style.contain="strict",s.style.position="absolute",s.style.left="-9999px",s.style.fontSize="12pt";let r=document.getSelection(),n=r.rangeCount>0&&r.getRangeAt(0);a.append(s),s.select(),s.selectionStart=0,s.selectionEnd=e.length;let l=!1;try{l=document.execCommand("copy")}catch{}return s.remove(),n&&(r.removeAllRanges(),r.addRange(n)),t&&t.focus(),l}}}]);