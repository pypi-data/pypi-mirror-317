"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([["1959"],{93812:function(e,r,s){s.d(r,{Z:function(){return c}});var a=s(24246),t=s(27378),i=s(90496),n=s(6582);function c(e){let{setOpenModal:r,className:s,children:c,useCustomTitle:l,backdropExit:o,title:d}=e,[u,h]=(0,t.useState)(""),m=()=>h("fade-out");return(0,t.useEffect)(()=>h("fade-in"),[]),(0,a.jsxs)("div",{className:(0,i.Z)("nb-modal-root",s),children:[(0,a.jsx)("div",{className:(0,i.Z)("nb-modal-backdrop",u),onTransitionEnd:()=>"fade-out"===u&&r(!1),onClick:()=>o&&m()}),(0,a.jsx)("div",{className:(0,i.Z)("nb-modal-container",u),children:(0,a.jsx)("div",{className:"card bg-base-100 shadow-xl max-w-2xl",children:(0,a.jsxs)("div",{className:"card-body",children:[!l&&(0,a.jsxs)("div",{className:"nb-modal-title",children:[d,(0,a.jsx)("div",{className:"card-actions ml-auto",children:(0,a.jsx)("button",{className:"btn btn-square btn-sm",onClick:m,children:(0,a.jsx)(n.Z,{})})})]}),c]})})})]})}},64117:function(e,r,s){s.d(r,{Z:function(){return c}});var a=s(24246),t=s(27378),i=s(90496),n=s(92739);function c(e){let{className:r,totalPages:s,currentPage:c,setPreviousPage:l,setNextPage:o,setPage:d,previousEnabled:u,nextEnabled:h}=e,m=(0,t.useCallback)((e,r)=>{let s=[];e=e>0?e:1;for(let a=e;a<=r;a++)s.push(a);return s},[]),f=[],p=(0,a.jsx)(n.G,{icon:"ellipsis-h"}),x=0,g=Math.floor(3.5),j=s-g+x+1;if(c+=1,s<=7)f.push(...m(1,s));else if(c>g&&c<j){let e=c-g+2,r=c+g-2-x,a=e-1==2?2:p,t=r+1===s-1?r+1:p;f.push(1,a,...m(e,r),t,s)}else if(c===g){let e=c+g-1-x;f.push(...m(1,e),p,s)}else if(c===j){let e=c-g+1;f.push(1,p,...m(e,s))}else f.push(...m(1,g),p,...m(j,s));return(0,a.jsxs)("nav",{className:(0,i.Z)("paginate-container",r),role:"navigation","aria-label":"Pagination Navigation",children:[(0,a.jsx)("button",{className:"paginate-button",onClick:l,disabled:!u,children:(0,a.jsx)(n.G,{icon:["fas","chevron-left"]})}),(0,a.jsx)("ul",{className:"paginate-pager",children:f.map((e,r)=>(0,a.jsx)("li",{className:(0,i.Z)("paginate-button","number"!=typeof e&&"ellipsis",c===e&&"active"),onClick:()=>"number"==typeof e&&c!==e&&d(e-1),children:e},r))}),(0,a.jsx)("button",{className:"paginate-button",onClick:o,disabled:!h,children:(0,a.jsx)(n.G,{icon:["fas","chevron-right"]})})]})}},74925:function(e,r,s){s.d(r,{Z:function(){return o}});var a=s(24246);s(27378);var t=s(90496),i=s(59229),n=s(92739),c=s(21817),l=s(66821);function o(e){let{resource:r,onClick:s,onTagClick:o,onAuthorClick:d,className:u}=e,h=/^https:\/\/github.com\/[^/]+\/[^/]+/.test(r.homepage),m="plugin"===r.resourceType,f=m&&`https://registry.nonebot.dev/plugin/${r.project_link}:${r.module_name}`,p=`https://github.com/${r.author}`,x=`${p}.png?size=80`;return(0,a.jsxs)("div",{className:(0,t.Z)("resource-card-container",u),children:[(0,a.jsxs)("div",{className:"resource-card-header",children:[(0,a.jsxs)("div",{className:"resource-card-header-title",children:[(0,a.jsx)("div",{className:"resource-card-header-text","data-tip":r.name,children:(0,a.jsx)("div",{className:"truncate min-w-0",children:r.name})}),r.is_official&&(0,a.jsx)(n.G,{className:"resource-card-header-check",icon:["fas","circle-check"]}),(0,a.jsx)(l.ZP,{className:"mx-2",resource:r,validLink:f,simple:!0})]}),(0,a.jsx)("div",{className:"resource-card-header-expand",onClick:s,children:(0,a.jsx)(n.G,{icon:["fas","expand"]})})]}),(0,a.jsx)("div",{className:"resource-card-desc",children:r.desc}),(0,a.jsxs)("div",{className:"resource-card-footer",children:[(0,a.jsx)("div",{className:"resource-card-footer-tags",children:r.tags.map((e,r)=>(0,a.jsx)(c.Z,{className:"resource-card-footer-tag",...e,onClick:()=>o(e.label)},r))}),(0,a.jsx)("div",{className:"divider resource-card-footer-divider"}),(0,a.jsxs)("div",{className:"resource-card-footer-info",children:[(0,a.jsxs)("div",{className:"resource-card-footer-group",children:[(0,a.jsx)(i.Z,{href:r.homepage,children:h?(0,a.jsx)(n.G,{className:"resource-card-footer-icon",icon:["fab","github"]}):(0,a.jsx)(n.G,{className:"resource-card-footer-icon",icon:["fas","link"]})}),m&&(0,a.jsx)(i.Z,{href:f,children:(0,a.jsx)(n.G,{className:"resource-card-footer-icon",icon:["fas","cube"]})})]}),(0,a.jsxs)("div",{className:"resource-card-footer-group",children:[(0,a.jsx)("div",{className:"avatar",children:(0,a.jsx)("div",{className:"resource-card-footer-avatar",children:(0,a.jsx)(i.Z,{href:p,children:(0,a.jsx)("img",{src:x},r.author)})})}),(0,a.jsx)("span",{className:"resource-card-footer-author",onClick:d,children:r.author})]})]})]})]})}},81940:function(e,r,s){s.d(r,{Z:function(){return o}});var a=s(24246),t=s(27378),i=s(92739),n=s(44771),c=s(21817),l=s(66821);function o(e){let{resource:r}=e,[s,o]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),h=`https://github.com/${r.author}`,m=`${h}.png?size=100`,f="plugin"===r.resourceType&&`https://registry.nonebot.dev/plugin/${r.project_link}:${r.module_name}`,p=e=>{switch(e.resourceType){case"plugin":case"adapter":case"driver":return e.project_link;default:return null}},x=e=>fetch(`https://pypi.org/pypi/${e}/json`).then(e=>e.json()).then(e=>o(e)),g=e=>{let r=p(e);r&&((0,n.Z)(`nb ${e.resourceType} install ${r}`),u(!0),setTimeout(()=>u(!1),2e3))};(0,t.useEffect)(()=>{let e=[];"bot"!==r.resourceType&&"driver"!==r.resourceType&&(r.project_link&&e.push(x(r.project_link)),Promise.all(e))},[r]);let j=p(r)||"\u65E0",v=(e=>{switch(e.resourceType){case"plugin":case"adapter":return e.module_name;case"driver":return e.module_name.replace(/~/,"nonebot.drivers.");default:return null}})(r)||"\u65E0",N=(e=>{switch(e.resourceType){case"plugin":case"adapter":case"driver":return e.homepage;default:return null}})(r)||void 0,b=(e=>{switch(e.resourceType){case"plugin":case"adapter":return`https://pypi.org/project/${e.project_link}`;default:return null}})(r)||void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"detail-card-header",children:[(0,a.jsx)("img",{src:m,className:"detail-card-avatar",decoding:"async"}),(0,a.jsxs)("div",{className:"detail-card-title",children:[(0,a.jsxs)("span",{className:"detail-card-title-main flex items-center gap-x-1",children:[r.name,r.is_official&&(0,a.jsx)("div",{className:"rounded-md text-sm bg-green-400/10 text-green-600 px-1 py-0.5",children:"\u5B98\u65B9"})]}),(0,a.jsx)("a",{className:"detail-card-title-sub hover:underline hover:text-primary",target:"_blank",rel:"noreferrer",href:h,children:r.author})]}),(0,a.jsxs)("div",{className:"detail-card-actions",children:[(0,a.jsx)(l.ZP,{resource:r,validLink:f,className:"detail-card-actions-desktop"}),(0,a.jsx)("button",{className:"detail-card-actions-button detail-card-actions-desktop w-28",onClick:()=>g(r),children:d?"\u590D\u5236\u6210\u529F":"\u590D\u5236\u5B89\u88C5\u547D\u4EE4"})]})]}),(0,a.jsx)("div",{className:"divider detail-card-header-divider"}),(0,a.jsxs)("div",{className:"detail-card-body",children:[(0,a.jsxs)("div",{className:"detail-card-body-left",children:[(0,a.jsx)("span",{className:"h-full",children:r.desc}),(0,a.jsx)("div",{className:"resource-card-footer-tags mb-4",children:r.tags.map((e,r)=>(0,a.jsx)(c.Z,{className:"align-bottom",...e},r))})]}),(0,a.jsx)("div",{className:"detail-card-body-divider"}),(0,a.jsxs)("div",{className:"detail-card-body-right",children:[(0,a.jsx)("div",{className:"detail-card-meta-item",children:(0,a.jsxs)("span",{children:[(0,a.jsx)(i.G,{fixedWidth:!0,icon:["fab","python"]})," ",s&&s.info.requires_python||"\u65E0"]})}),(0,a.jsxs)("div",{className:"detail-card-meta-item",children:[(0,a.jsx)(i.G,{fixedWidth:!0,icon:["fas","file-zipper"]})," ",s&&s.releases[s.info.version]&&`${s.releases[s.info.version].reduce((e,r)=>e+r.size,0)/1e3}K`||"\u65E0"]}),(0,a.jsx)("div",{className:"detail-card-meta-item",children:(0,a.jsxs)("span",{children:[(0,a.jsx)(i.G,{fixedWidth:!0,icon:["fas","scale-balanced"]})," ",s&&s.info.license||"\u65E0"]})}),(0,a.jsxs)("div",{className:"detail-card-meta-item",children:[(0,a.jsx)(i.G,{fixedWidth:!0,icon:["fas","tag"]})," ",s&&s.info.version||"\u65E0"]}),(0,a.jsxs)("div",{className:"detail-card-meta-item",children:[(0,a.jsx)(i.G,{fixedWidth:!0,icon:["fas","fingerprint"]})," ",(0,a.jsx)("a",{href:N,target:"_blank",rel:"noreferrer",className:N&&"hover:underline hover:text-primary",children:v})]}),(0,a.jsxs)("div",{className:"detail-card-meta-item",children:[(0,a.jsx)(i.G,{fixedWidth:!0,icon:["fas","cubes"]})," ",(0,a.jsx)("a",{href:b,target:"_blank",rel:"noreferrer",className:b&&"hover:underline hover:text-primary",children:j})]}),(0,a.jsxs)("div",{className:"detail-card-actions",children:[(0,a.jsx)(l.ZP,{resource:r,validLink:f,className:"detail-card-actions-mobile"}),(0,a.jsx)("button",{className:"detail-card-actions detail-card-actions-button detail-card-actions-mobile w-28",onClick:()=>g(r),children:d?"\u590D\u5236\u6210\u529F":"\u590D\u5236\u5B89\u88C5\u547D\u4EE4"})]})]})]})]})}},21817:function(e,r,s){s.d(r,{Z:function(){return n}});var a=s(24246);s(27378);var t=s(90496),i=s(94203);function n(e){let{label:r,color:s,className:n,onClick:c}=e;return(0,a.jsx)("span",{className:(0,t.Z)("resource-tag",n),style:{backgroundColor:s,color:(0,i.k)(s,"#fff","#000")},onClick:c,children:r})}},66821:function(e,r,s){s.d(r,{ZP:()=>d});var a,t=s("24246");s("27378");var i=s("90496"),n=s("92739");var c=((a={}).VALID="valid",a.INVALID="invalid",a.SKIP="skip",a.MISSING="missing",a);let l=e=>{if("plugin"===e.resourceType)return e.skip_test?c.SKIP:e.valid?c.VALID:c.INVALID;return c.MISSING},o={[c.VALID]:"plug-circle-check",[c.INVALID]:"plug-circle-xmark",[c.SKIP]:"plug-circle-exclamation",[c.MISSING]:"plug-circle-exclamation"};function d(e){let{resource:r,validLink:s,className:a,simple:d}=e,u=l(r),h=u===c.VALID,m=u===c.INVALID,f=u===c.SKIP;return u!==c.MISSING&&(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:s,className:a,children:(0,t.jsxs)("div",{className:(0,i.Z)({"rounded-md text-sm flex items-center gap-x-1 px-2 py-1 whitespace-nowrap":!d,"bg-green-400/10":!d&&h,"text-green-600 dark:text-green-400":h,"bg-red-400/10":!d&&m,"text-red-600 dark:text-red-400":m,"bg-blue-400/10":!d&&f,"text-blue-600 dark:text-blue-400":f}),children:[(0,t.jsx)(n.G,{icon:o[u]}),!d&&(0,t.jsxs)(t.Fragment,{children:[h&&(0,t.jsx)("p",{children:"\u63D2\u4EF6\u5DF2\u901A\u8FC7\u6D4B\u8BD5"}),m&&(0,t.jsx)("p",{children:"\u63D2\u4EF6\u672A\u901A\u8FC7\u6D4B\u8BD5"}),f&&(0,t.jsx)("p",{children:"\u63D2\u4EF6\u8DF3\u8FC7\u6D4B\u8BD5"})]})]})})}},37127:function(e,r,s){s.d(r,{Z:function(){return l}});var a=s(24246),t=s(27378),i=s(90496),n=s(97432),c=s(92739);function l(e){let{onChange:r,onSubmit:s,onBackspace:l,onClear:o,onTagClick:d,tags:u=[],className:h,placeholder:m,disabled:f=!1}=e,p=(0,t.useRef)(null),x=e=>{s(e.currentTarget.value),e.currentTarget.value="",e.preventDefault()},g=e=>{e.currentTarget.value=""},j=e=>{""===e.currentTarget.value&&(l(),e.preventDefault())};return(0,a.jsxs)("div",{className:(0,i.Z)("searcher-box",h),children:[(0,a.jsxs)("div",{className:"searcher-container",children:[u.map((e,r)=>(0,a.jsx)("div",{className:"badge badge-primary searcher-tag",onClick:()=>d(r),children:e},r)),(0,a.jsx)("input",{ref:p,className:"searcher-input",placeholder:m??(0,n.I)({id:"theme.searcher.input.placeholder",description:"Search input placeholder",message:"\u641C\u7D22"}),onChange:e=>r(e.currentTarget.value),onKeyDown:e=>{switch(e.key){case"Enter":x(e);break;case"Escape":g(e);break;case"Backspace":j(e)}},disabled:f})]}),(0,a.jsxs)("div",{className:"searcher-action",onClick:()=>{p.current&&(p.current.value="",p.current.focus()),o()},children:[(0,a.jsx)(c.G,{className:"searcher-action-icon search",icon:["fas","magnifying-glass"]}),(0,a.jsx)(c.G,{className:"searcher-action-icon close",icon:["fas","xmark"]})]})]})}},56399:function(e,r,s){s.d(r,{Z:function(){return m}});var a=s(24246);s(27378);var t=s(1027),i=s(39343),n=s(63338),c=s(84638),l=s(92521),o=s(12646),d=s(87806);let u="ecosystem";function h(e){let{title:r,children:s}=e,i=(0,n.Uo)((0,t.lO)()[0].name,u);return(0,a.jsxs)(d.Z,{hideTableOfContents:!0,reduceContentWidth:!1,sidebarId:u,children:[(0,a.jsx)(c.uB,{items:i}),(0,a.jsxs)("article",{className:"prose max-w-full",children:[(0,a.jsx)("h1",{className:"store-title",children:r}),s]})]})}function m(e){let{title:r,...s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.d,{title:r}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)(h,{title:r,...s})]})]})}},94203:function(e,r,s){s.d(r,{k:function(){return a}});function a(e,r,s){let a="#"===e.charAt(0)?e.substring(1,7):e,t=parseInt(a.substring(0,2),16),i=parseInt(a.substring(2,4),16);return .299*t+.587*i+.114*parseInt(a.substring(4,6),16)>186?s:r}},38625:function(e,r,s){s.d(r,{Ac:function(){return n},IA:function(){return c},RQ:function(){return i},SY:function(){return l}});var a=s(27378),t=s(97432);let i=e=>({type:"tag",id:`tag-${e}`,displayName:(0,t.I)({id:"pages.store.filter.tagDisplayName",description:"The display name of tag filter",message:"\u6807\u7B7E: {tag}"},{tag:e}),filter:r=>r.tags.map(e=>e.label).includes(e)}),n=e=>({type:"author",id:`author-${e}`,displayName:(0,t.I)({id:"pages.store.filter.authorDisplayName",description:"The display name of author filter",message:"\u4F5C\u8005: {author}"},{author:e}),filter:r=>r.author===e}),c=e=>({type:"query",id:`query-${e}`,displayName:e,filter:r=>{if(!e)return!0;let s=e.toLowerCase(),a="plugin"===r.resourceType&&(r.module_name?.toLowerCase().includes(s)||r.project_link?.toLowerCase().includes(s)),t=r.name.toLowerCase().includes(s)||r.desc.toLowerCase().includes(s)||r.author.toLowerCase().includes(s)||r.tags.filter(e=>e.label.toLowerCase().includes(s)).length>0;return a||t}});function l(e){let[r,s]=(0,a.useState)([]),t=(0,a.useCallback)(e=>{!r.some(r=>r.id===e.id)&&s(r=>[...r,e])},[r,s]),i=(0,a.useCallback)(e=>{s(r=>r.filter(r=>"string"==typeof e?r.id!==e:r!==e))},[s]),n=(0,a.useCallback)(()=>{var s,a;return s=e,a=r,s.filter(e=>a.every(r=>r.filter(e)))},[e,r]);return{filters:r,addFilter:t,removeFilter:i,filteredResources:n()}}},44075:function(e,r,s){s.d(r,{r:function(){return i}});var a=s(27378),t=s(38625);function i(e){let[r,s]=(0,a.useState)(null),{filters:i,addFilter:n,removeFilter:c,filteredResources:l}=(0,t.SY)(e),[o,d]=(0,a.useState)([]);(0,a.useEffect)(()=>{d(i.filter(e=>!(r&&e===r)))},[i,r]);let u=(0,a.useCallback)(e=>{if(""===e){r&&c(r),s(null);return}let a=(0,t.IA)(e);r?.id!==a.id&&(r&&c(r),s(a),n(a))},[r,s,n,c]),h=(0,a.useCallback)(()=>{s(null)},[s]),m=(0,a.useCallback)(()=>{c(o[o.length-1])},[c,o]),f=(0,a.useCallback)(()=>{o.forEach(e=>c(e))},[c,o]),p=(0,a.useCallback)(e=>{c(o[e])},[c,o]);return{filteredResources:l,searcherTags:o.map(e=>e.displayName),addFilter:n,onSearchQueryChange:u,onSearchQuerySubmit:h,onSearchBackspace:m,onSearchClear:f,onSearchTagClick:p}}},94904:function(e,r,s){async function a(e){let r=await fetch(`https://registry.nonebot.dev/${e}s.json`).catch(r=>{throw Error(`Failed to fetch ${e}s: ${r}`)});if(!r.ok)throw Error(`Failed to fetch ${e}s: ${r.status} ${r.statusText}`);return(await r.json()).map(r=>({...r,resourceType:e}))}s.d(r,{J:function(){return t},q:function(){return a}});let t=(0,s(97432).I)({id:"pages.store.loadFailed.title",message:"\u52A0\u8F7D\u5931\u8D25",description:"Title to display when loading content failed"})},3311:function(e,r,s){s.r(r),s.d(r,{default:()=>j});var a=s("24246"),t=s("27378"),i=s("97432"),n=s("48809"),c=s("33287"),l=s("93812"),o=s("64117"),d=s("74925"),u=s("81940"),h=s("37127"),m=s("38625"),f=s("44075"),p=s("94904");function x(){let[e,r]=(0,t.useState)(null),s=e?.length??0,x=null===e,[g,j]=(0,t.useState)(null),[v,N]=(0,t.useState)(!1),[b,k]=(0,t.useState)(null),{filteredResources:y,searcherTags:C,addFilter:Z,onSearchQueryChange:I,onSearchQuerySubmit:w,onSearchBackspace:T,onSearchClear:S,onSearchTagClick:$}=(0,f.r)(e??[]),G=y.length,{startIndex:_,endIndex:L,totalPages:P,currentPage:D,setNextPage:A,setPreviousPage:E,setPage:V,previousEnabled:W,nextEnabled:F}=(0,n.h0)({totalItems:y.length,initialPageSize:12}),q=y.slice(_,L+1);(0,t.useEffect)(()=>{(0,p.q)("driver").then(r).catch(e=>{j(e),console.error(e)})},[]);let z=(0,t.useCallback)(e=>{k(e),N(!0)},[]),K=(0,t.useCallback)(e=>{Z((0,m.RQ)(e))},[Z]),M=(0,t.useCallback)(e=>{Z((0,m.Ac)(e))},[Z]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"store-description",children:s===G?(0,a.jsx)(i.Z,{id:"pages.store.driver.info",description:"Drivers info of the driver store page",values:{driverCount:s},children:"\u5F53\u524D\u5171\u6709 {driverCount} \u4E2A\u9A71\u52A8\u5668"}):(0,a.jsx)(i.Z,{id:"pages.store.driver.searchInfo",description:"Drivers search info of the driver store page",values:{driverCount:s,filteredDriverCount:G},children:"\u5F53\u524D\u5171\u6709 {filteredDriverCount} / {driverCount} \u4E2A\u9A71\u52A8\u5668"})}),(0,a.jsx)(h.Z,{className:"store-searcher not-prose",onChange:I,onSubmit:w,onBackspace:T,onClear:S,onTagClick:$,tags:C,disabled:x}),g?(0,a.jsx)(c.Z,{type:"caution",title:p.J,children:g.message}):x?(0,a.jsx)("p",{className:"store-loading-container",children:(0,a.jsx)("span",{className:"loading loading-dots loading-lg store-loading"})}):(0,a.jsx)("div",{className:"store-container",children:q.map((e,r)=>(0,a.jsx)(d.Z,{className:"not-prose",resource:e,onClick:()=>z(e),onTagClick:K,onAuthorClick:()=>M(e.author)},r))}),(0,a.jsx)(o.Z,{className:"not-prose",totalPages:P,currentPage:D,setNextPage:A,setPreviousPage:E,setPage:V,nextEnabled:F,previousEnabled:W}),v&&(0,a.jsx)(l.Z,{className:"not-prose",useCustomTitle:!0,backdropExit:!0,title:"\u9A71\u52A8\u5668\u8BE6\u60C5",setOpenModal:N,children:b&&(0,a.jsx)(u.Z,{resource:b})})]})}var g=s("56399");function j(){let e=(0,i.I)({id:"pages.store.driver.title",message:"\u9A71\u52A8\u5668\u5546\u5E97",description:"Title for the driver store page"});return(0,a.jsx)(g.Z,{title:e,children:(0,a.jsx)(x,{})})}},31948:function(e,r,s){s.d(r,{Z:function(){return n}});var a=s(24246);s(27378);var t=s(82381),i=s(10720);function n(e){let{children:r,...s}=e,n=(0,t.useWindowSize)();return(0,a.jsxs)(i.Z,{...s,children:[r,"ssr"!==n&&(0,a.jsx)("div",{className:"toc-ads-container",children:(0,a.jsx)("div",{className:"wwads-cn wwads-vertical toc-ads","data-id":"281"})})]})}}}]);