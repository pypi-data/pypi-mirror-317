import{p as q,a2 as z,l as G,z as J,e as K,c as O,a3 as Q,m as h,a4 as W,B as $,C as B,q as r,t as w,w as V,H as o,G as a,I as t,D as l,E as P,M as u,J as I,r as v,P as X,o as Y,R as M,$ as C}from"./index-5ee1411a.js";import{f as c}from"./utils-6f3c77d7.js";import{b as T}from"./VCard-8ba7cfc2.js";import{V as A}from"./VTable-3f843f69.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Z,a as ee}from"./VToolbar-55156e00.js";import{m as se,a as D,V as te}from"./VSelect-c424a144.js";import{m as oe,u as ae,V as x}from"./VTextField-a8ac4f44.js";import{c as re}from"./transition-cd9cc606.js";import"./VImg-71612e97.js";import"./index-a55adddd.js";import"./forwardRefs-2fb8bd5a.js";import"./VOverlay-1134342d.js";import"./scopeId-4c4b48c5.js";import"./VSlideGroup-b93846bd.js";import"./resizeObserver-5499429a.js";const le=q({...oe(),...z(se(),["inline"])},"VCheckbox"),ne=G()({name:"VCheckbox",inheritAttrs:!1,props:le(),emits:{"update:modelValue":_=>!0,"update:focused":_=>!0},setup(_,d){let{attrs:m,slots:e}=d;const i=J(_,"modelValue"),{isFocused:s,focus:n,blur:y}=ae(_),f=K(),g=O(()=>_.id||`checkbox-${f}`);return re(()=>{const[p,k]=Q(m),F=x.filterProps(_),H=D.filterProps(_);return h(x,W({class:["v-checkbox",_.class]},p,F,{modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,id:g.value,focused:s.value,style:_.style}),{...e,default:b=>{let{id:N,messagesId:R,isDisabled:L,isReadonly:j,isValid:E}=b;return h(D,W(H,{id:N.value,"aria-describedby":R.value,disabled:L.value,readonly:j.value},k,{error:E.value===!1,modelValue:i.value,"onUpdate:modelValue":S=>i.value=S,onFocus:n,onBlur:y}),e)}})}),{}}}),de={class:"bg-primary"},ue={class:"w-24 px-6 py-3"},ce={class:"w-36 px-6 py-3"},_e={class:"w-36 px-6 py-3"},ie={class:"w-36 px-6 py-3"},me={class:"w-36 px-6 py-3"},pe={class:"w-36 px-6 py-3"},he={class:"px-6 py-4"},ye={class:"px-6 py-4"},ve={key:0},ge={key:1},ke={class:"px-6 py-4"},fe={key:0},we={key:1},Ve={class:"px-6 py-4"},be={key:0},Me={key:1},$e={class:"px-6 py-4"},We={key:0},Ce={key:1},De={class:"px-6 py-4"},xe={key:0},Be={key:1},Pe=$({__name:"HomeMeasurementTable",props:{homeMeasurements:{},showMeterValues:{type:Boolean}},setup(_){const{t:d,d:m}=B();return(e,i)=>(r(),w(T,{class:"elevation-2 rounded-md"},{default:V(()=>[h(A,{class:"m-4 border"},{default:V(()=>[o("thead",de,[o("tr",null,[o("th",ue,a(t(d)("raw_data.date")),1),o("th",ce,a(t(d)("consumed_solar_energy")),1),o("th",_e,a(t(d)("consumed_energy")),1),o("th",ie,a(t(d)("raw_data.produced_solar_energy")),1),o("th",me,a(t(d)("raw_data.imported_energy")),1),o("th",pe,a(t(d)("raw_data.exported_energy")),1)])]),o("tbody",null,[(r(!0),l(I,null,P(e.homeMeasurements,(s,n)=>(r(),l("tr",{key:s.id,class:"border-b text-center"},[o("td",he,a(t(m)(new Date(s.measurement_date))),1),o("td",ye,[n<e.homeMeasurements.length-1?(r(),l("p",ve,a(t(c)(s.solar_consumed_energy-e.homeMeasurements[n+1].solar_consumed_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",ge,a(t(c)(s.solar_consumed_energy,"kWh")),1)):u("",!0)]),o("td",ke,[n<e.homeMeasurements.length-1?(r(),l("p",fe,a(t(c)(s.consumed_energy-e.homeMeasurements[n+1].consumed_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",we,a(t(c)(s.consumed_energy,"kWh")),1)):u("",!0)]),o("td",Ve,[n<e.homeMeasurements.length-1?(r(),l("p",be,a(t(c)(s.solar_produced_energy-e.homeMeasurements[n+1].solar_produced_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Me,a(t(c)(s.solar_produced_energy,"kWh")),1)):u("",!0)]),o("td",$e,[n<e.homeMeasurements.length-1?(r(),l("p",We,a(t(c)(s.grid_imported_energy-e.homeMeasurements[n+1].grid_imported_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Ce,a(t(c)(s.grid_imported_energy,"kWh")),1)):u("",!0)]),o("td",De,[n<e.homeMeasurements.length-1?(r(),l("p",xe,a(t(c)(s.grid_exported_energy-e.homeMeasurements[n+1].grid_exported_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Be,a(t(c)(s.grid_exported_energy,"kWh")),1)):u("",!0)])]))),128))])]),_:1})]),_:1}))}});const Ie=U(Pe,[["__scopeId","data-v-320d365a"]]),Te={class:"bg-primary"},Ae={class:"w-24 px-6 py-3"},Ue={class:"w-36 px-6 py-3"},Fe={class:"w-36 px-6 py-3"},He={class:"px-6 py-4"},Ne={class:"px-6 py-4"},Re={key:0},Le={key:1},je={class:"px-6 py-4"},Ee={key:0},Se={key:1},qe=$({__name:"DeviceMeasurementTable",props:{deviceMeasurements:{},showMeterValues:{type:Boolean}},setup(_){const{t:d,d:m}=B();return(e,i)=>(r(),w(T,{class:"elevation-2 rounded-md"},{default:V(()=>[h(A,{class:"m-4 rounded-md border"},{default:V(()=>[o("thead",Te,[o("tr",null,[o("th",Ae,a(t(d)("raw_data.date")),1),o("th",Ue,a(t(d)("consumed_solar_energy")),1),o("th",Fe,a(t(d)("consumed_energy")),1)])]),o("tbody",null,[(r(!0),l(I,null,P(e.deviceMeasurements,(s,n)=>(r(),l("tr",{key:s.id,class:"border-b text-center"},[o("td",He,a(t(m)(new Date(s.measurement_date))),1),o("td",Ne,[n<e.deviceMeasurements.length-1?(r(),l("p",Re,a(t(c)(s.solar_consumed_energy-e.deviceMeasurements[n+1].solar_consumed_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Le,a(t(c)(s.solar_consumed_energy,"kWh")),1)):u("",!0)]),o("td",je,[n<e.deviceMeasurements.length-1?(r(),l("p",Ee,a(t(c)(s.consumed_energy-e.deviceMeasurements[n+1].consumed_energy,"kWh")),1)):u("",!0),e.showMeterValues?(r(),l("p",Se,a(t(c)(s.consumed_energy,"kWh")),1)):u("",!0)])]))),128))])]),_:1})]),_:1}))}});const ze=U(qe,[["__scopeId","data-v-0c0c6e44"]]),Ge={class:"flex justify-center min-h-screen p-4 v-full bg-background"},Je={key:0,class:"grid w-full h-full grid-cols-1 justify-items-center"},Ke={key:1},Oe={class:"flex my-4"},is=$({__name:"RawData",setup(_){const d=v(),m=v(),e=v(),i=v(!1),s=v(""),y=v(!1),f=async function(g){i.value=!0,m.value=await M.getAllHomeMeasurements(),d.value=g!=""?await M.getDeviceMeasurements(g):[],i.value=!1};return X(s,()=>{console.log("Change selection: "+s.value),f(s.value)}),Y(async()=>{e.value=await M.getAllDevices(),e.value.length>0&&(s.value=e.value[0].id,console.log("Load in on mounted: "+e.value[0].id),f(e.value[0].id))}),(g,p)=>(r(),l("div",null,[h(Z,{color:"transparent",title:t(C)("app.rawdata")},null,8,["title"]),h(ee),o("div",Ge,[i.value?(r(),l("div",Je,p[2]||(p[2]=[o("span",{class:"py-2 loading loading-dots loading-lg"},null,-1)]))):(r(),l("div",Ke,[m.value?(r(),w(Ie,{key:0,"home-measurements":m.value,"show-meter-values":y.value},null,8,["home-measurements","show-meter-values"])):u("",!0),h(te,{modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=k=>s.value=k),class:"my-4 rounded-md bg-surface",items:e.value?e.value:[],"item-title":"name","item-value":"id","single-line":""},null,8,["modelValue","items"]),d.value?(r(),w(ze,{key:1,"device-measurements":d.value,"show-meter-values":y.value},null,8,["device-measurements","show-meter-values"])):u("",!0),o("div",Oe,[h(ne,{modelValue:y.value,"onUpdate:modelValue":p[1]||(p[1]=k=>y.value=k),label:t(C)("raw_data.show_meter_values")},null,8,["modelValue","label"])])]))])]))}});export{is as default};
